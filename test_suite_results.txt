
> obsidian_plugin_for_todo_flow@1.2.39 test
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/home/ivan/obsidian_plugin_for_todo_flow[39m

3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:47:26 This reference only captures the initial value of `initialNavState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:48:15 This reference only captures the initial value of `initialTasks`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:109:40 This reference only captures the initial value of `navState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:110:35 This reference only captures the initial value of `navState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:112:34 This reference only captures the initial value of `settings`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:113:29 This reference only captures the initial value of `now`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:115:30 This reference only captures the initial value of `navState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:194:30 This reference only captures the initial value of `navState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1013:0 noninteractive element cannot have nonnegative tabIndex value
https://svelte.dev/e/a11y_no_noninteractive_tabindex
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1013:0 Non-interactive element `<div>` should not be assigned mouse or keyboard event listeners
https://svelte.dev/e/a11y_no_noninteractive_element_interactions
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1043:12 Visible, non-interactive elements with a click event must be accompanied by a keyboard event handler. Consider whether an interactive element such as `<button type="button">` or `<a>` might be more appropriate
https://svelte.dev/e/a11y_click_events_have_key_events
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1043:12 `<div>` with a click handler must have an ARIA role
https://svelte.dev/e/a11y_no_static_element_interactions
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1070:16 Visible, non-interactive elements with a click event must be accompanied by a keyboard event handler. Consider whether an interactive element such as `<button type="button">` or `<a>` might be more appropriate
https://svelte.dev/e/a11y_click_events_have_key_events
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1070:16 `<div>` with a click handler must have an ARIA role
https://svelte.dev/e/a11y_no_static_element_interactions
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1118:24 Visible, non-interactive elements with a click event must be accompanied by a keyboard event handler. Consider whether an interactive element such as `<button type="button">` or `<a>` might be more appropriate
https://svelte.dev/e/a11y_click_events_have_key_events
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1466:4 Unused CSS selector ".duration-btn.small"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1493:21 Unused CSS selector ".is-done .title-btn"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1562:4 Unused CSS selector ".is-mobile-layout .todo-flow-task-card"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1567:4 Unused CSS selector ".is-mobile-layout .title"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1574:4 Unused CSS selector ".is-mobile-layout .drag-handle"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1579:4 Unused CSS selector ".is-mobile-layout .time-col"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1585:4 Unused CSS selector ".is-mobile-layout .desktop-only-time"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1589:4 Unused CSS selector ".is-mobile-layout .mobile-only-time"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1595:4 Unused CSS selector ".is-mobile-layout .content-col"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1600:4 Unused CSS selector ".is-mobile-layout .duration"
https://svelte.dev/e/css_unused_selector
3:05:45 PM [vite-plugin-svelte] src/views/StackView.svelte:1677:4 Unused CSS selector ".todo-flow-title-input"
https://svelte.dev/e/css_unused_selector
[90mstdout[2m | src/__tests__/ui_workbench.test.ts[2m > [22m[2mUI Workbench: Interaction & Stability[2m > [22m[2mStackView: Should NOT respond to keys when typing in a contenteditable (Editor)
[22m[39m[TODO_FLOW_TRACE] onMount entry

[90mstdout[2m | src/__tests__/ui_workbench.test.ts[2m > [22m[2mUI Workbench: Interaction & Stability[2m > [22m[2mStackView: Should distinguish between j (nav) and Shift+J (move)
[22m[39m[TODO_FLOW_TRACE] onMount entry

 [31m‚ùØ[39m src/__tests__/StackDragAndDrop.test.ts [2m([22m[2m5 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 410[2mms[22m[39m
     [32m‚úì[39m should update dragTargetIndex when dragging handle over other tasks[32m 160[2mms[22m[39m
     [32m‚úì[39m should trigger reordering when dragging the card body vertically[32m 40[2mms[22m[39m
     [32m‚úì[39m should NOT trigger navigation immediately after a drag[32m 64[2mms[22m[39m
     [32m‚úì[39m should target closest card even when in gap[32m 58[2mms[22m[39m
[31m     [31m√ó[31m should update focusedIndex after a successful drag-and-drop[39m[32m 81[2mms[22m[39m
 [32m‚úì[39m src/__tests__/go_back_regression.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 688[2mms[22m[39m
     [33m[2m‚úì[22m[39m should show parent tasks after drilling down and going back [33m 384[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/ui_workbench.test.ts [2m([22m[2m10 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 863[2mms[22m[39m
     [32m‚úì[39m StackView: Should NOT respond to keys when typing in a contenteditable (Editor)[32m 170[2mms[22m[39m
[31m     [31m√ó[31m StackView: Should respond to keys when container is focused[39m[32m 118[2mms[22m[39m
[31m     [31m√ó[31m StackView: Should distinguish between j (nav) and Shift+J (move)[39m[32m 98[2mms[22m[39m
     [32m‚úì[39m StackView: Should isolate keyboard events between multiple instances[32m 5[2mms[22m[39m
[31m     [31m√ó[31m StackView: Should recalculate schedule (start times) when setTasks is called[39m[32m 112[2mms[22m[39m
     [32m‚úì[39m StackView: Should apply visual state for "done" tasks[32m 65[2mms[22m[39m
     [32m‚úì[39m StackView: Should trigger Quick Add (NLP) on "c" key[32m 83[2mms[22m[39m
[31m     [31m√ó[31m StackView: Should delete task on "Backspace"[39m[32m 91[2mms[22m[39m
     [32m‚úì[39m StackView: Should force open file with Shift+Enter even if children exist[32m 24[2mms[22m[39m
     [32m‚úì[39m StackView: Should trigger onGoBack/onNavigate events[32m 87[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/StackViewMobileGestures.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 496[2mms[22m[39m
     [32m‚úì[39m should trigger ToggleStatusCommand on right swipe[32m 249[2mms[22m[39m
     [32m‚úì[39m should trigger ArchiveCommand on left swipe[32m 24[2mms[22m[39m
     [32m‚úì[39m should trigger ToggleAnchorCommand on double tap and maintain focus[32m 130[2mms[22m[39m
[31m     [31m√ó[31m should stop event propagation during gestures (Gesture Shadowing)[39m[32m 85[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/help_layer.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 671[2mms[22m[39m
[31m     [31m√ó[31m should toggle help overlay on "?" keypress and block interaction[39m[33m 536[2mms[22m[39m
     [32m‚úì[39m should close help on Escape[32m 130[2mms[22m[39m
3:05:55 PM [vite-plugin-svelte] src/views/TriageView.svelte:14:44 This reference only captures the initial value of `app`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:05:55 PM [vite-plugin-svelte] src/views/TriageView.svelte:14:49 This reference only captures the initial value of `initialTasks`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:05:55 PM [vite-plugin-svelte] src/views/TriageView.svelte:14:63 This reference only captures the initial value of `logger`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:05:56 PM [vite-plugin-svelte] src/components/Card.svelte:11:7 Using `<slot>` to render parent content is deprecated. Use `{@render ...}` tags instead
https://svelte.dev/e/slot_element_deprecated
3:05:56 PM [vite-plugin-svelte] src/components/Card.svelte:16:11 Using `<slot>` to render parent content is deprecated. Use `{@render ...}` tags instead
https://svelte.dev/e/slot_element_deprecated
 [32m‚úì[39m src/__tests__/navigation.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 563[2mms[22m[39m
     [33m[2m‚úì[22m[39m should trigger onNavigate when drilling down (Enter) [33m 396[2mms[22m[39m
 [32m‚úì[39m src/__tests__/ComponentViews.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 642[2mms[22m[39m
     [33m[2m‚úì[22m[39m should render the timeline with formatted durations [33m 364[2mms[22m[39m
 [32m‚úì[39m src/__tests__/greedy_duration.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32m‚úì[39m src/__tests__/help_layer_integrity.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 413[2mms[22m[39m
     [33m[2m‚úì[22m[39m should render correct key labels from props [33m 303[2mms[22m[39m
 [32m‚úì[39m src/__tests__/ShakeDetector.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 207[2mms[22m[39m
 [32m‚úì[39m src/__tests__/DumpView.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 168[2mms[22m[39m
 [32m‚úì[39m src/__tests__/keybinding_collision.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 65[2mms[22m[39m
[90mstderr[2m | src/__tests__/workflow_scenarios.test.ts[2m > [22m[2mWorkflow Scenarios: Integration Features[2m > [22m[2mScenario 3: User Reorders task (Shift+J) skipping over an Anchor (Reordering Collision)
[22m[39m

Error: 
    at $effect [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/views/StackView.svelte:311:27[90m)[39m
    at mountModern [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/mount.js:34:10[90m)[39m
    at mount [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/mount.js:85:44[90m)[39m
    at Module.render [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/render.js:16:28[90m)[39m
    at render [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:49:73[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/__tests__/workflow_scenarios.test.ts:165:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at [90mfile:///home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:20


Error: 
    at mountModern [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/mount.js:34:10[90m)[39m
    at mount [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/mount.js:85:44[90m)[39m
    at Module.render [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/render.js:16:28[90m)[39m
    at render [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:49:73[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/__tests__/workflow_scenarios.test.ts:165:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at [90mfile:///home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:20

[90mstdout[2m | src/__tests__/stack.test.ts[2m > [22m[2mStackController[2m > [22m[2mshould scale duration upwards following the sequence
[22m[39m[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 20
[StackController DEBUG] Post-schedule tasks: Task 1
[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 30
[StackController DEBUG] Post-schedule tasks: Task 1

[90mstdout[2m | src/__tests__/stack.test.ts[2m > [22m[2mStackController[2m > [22m[2mshould scale duration downwards and respect subtask sum
[22m[39m[StackController DEBUG] scaleDuration entry index=0 direction=down
[StackController DEBUG] Scaling task 0 down. New duration: 15
[StackController DEBUG] Post-schedule tasks: Parent
[StackController DEBUG] scaleDuration entry index=0 direction=down
[StackController DEBUG] Scaling task 0 down. New duration: 10
[StackController DEBUG] Post-schedule tasks: Parent

 [32m‚úì[39m src/__tests__/stack.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 169[2mms[22m[39m
 [32m‚úì[39m src/__tests__/dump_view_ui.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 420[2mms[22m[39m
     [33m[2m‚úì[22m[39m should render the minimal card layout [33m 376[2mms[22m[39m
[90mstdout[2m | src/__tests__/persistence_sync.test.ts[2m > [22m[2mStack-to-Note Persistence Sync[2m > [22m[2mshould call onTaskUpdate when duration is scaled
[22m[39m[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 45
[StackController DEBUG] Post-schedule tasks: Test Task

 [32m‚úì[39m src/__tests__/persistence_sync.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 148[2mms[22m[39m
[90mstdout[2m | src/__tests__/AutoNLP.test.ts[2m > [22m[2mAuto-NLP Triggers[2m > [22m[2mRenameTaskCommand Auto-NLP[2m > [22m[2mshould extract metadata when renaming to a string with NLP hints
[22m[39m[RenameTaskCommand] Executing for ID task-1.md. New Title: "New Title"
[RenameTaskCommand] Applying extra metadata for ID task-1.md
[StackController] updateTaskMetadata index 0 -> 0. Updates: {"startTime":"2026-02-12T13:00:00.000Z","duration":60,"isAnchored":true}

[90mstdout[2m | src/__tests__/AutoNLP.test.ts[2m > [22m[2mAuto-NLP Triggers[2m > [22m[2mRenameTaskCommand Auto-NLP[2m > [22m[2mshould revert metadata when undoing a rename that had NLP
[22m[39m[RenameTaskCommand] Executing for ID task-1.md. New Title: "New Title"
[RenameTaskCommand] Applying extra metadata for ID task-1.md
[StackController] updateTaskMetadata index 0 -> 0. Updates: {"startTime":"2026-02-12T13:00:00.000Z","duration":60,"isAnchored":true}
[StackController] updateTaskMetadata index 0 -> 0. Updates: {"startTime":"2026-02-12T14:06:22.623Z","duration":30,"isAnchored":false}

 [32m‚úì[39m src/__tests__/AutoNLP.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 214[2mms[22m[39m
 [32m‚úì[39m src/__tests__/DateParser.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 173[2mms[22m[39m
[90mstdout[2m | src/__tests__/SetStartTime.test.ts[2m > [22m[2mSetStartTimeCommand[2m > [22m[2mshould anchor a task at a specific time
[22m[39m[StackController] updateTaskMetadata index 0 -> 0. Updates: {"startTime":"2026-01-31T09:30:00.000Z","isAnchored":true}

[90mstdout[2m | src/__tests__/SetStartTime.test.ts[2m > [22m[2mSetStartTimeCommand[2m > [22m[2mshould support undo/redo
[22m[39m[StackController] updateTaskMetadata index 0 -> 0. Updates: {"startTime":"2026-01-31T10:00:00.000Z","isAnchored":true}

[90mstdout[2m | src/__tests__/SetStartTime.test.ts[2m > [22m[2mSetStartTimeCommand[2m > [22m[2mshould support undo/redo
[22m[39m[StackController] updateTaskMetadata index 0 -> 0. Updates: {"startTime":"2026-01-31T08:00:00.000Z","isAnchored":false}

[90mstdout[2m | src/__tests__/SetStartTime.test.ts[2m > [22m[2mSetStartTimeCommand[2m > [22m[2mshould support undo/redo
[22m[39m[StackController] updateTaskMetadata index 0 -> 0. Updates: {"startTime":"2026-01-31T10:00:00.000Z","isAnchored":true}

 [32m‚úì[39m src/__tests__/SetStartTime.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 195[2mms[22m[39m
 [32m‚úì[39m src/__tests__/graph.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 83[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/Card.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 330[2mms[22m[39m
[90mstdout[2m | src/__tests__/drill_down.test.ts[2m > [22m[2mNavigationManager - Drill Down[2m > [22m[2mshould drill down into task with children
[22m[39m[NavigationManager] setStack() with 1 tasks from root.md

[90mstdout[2m | src/__tests__/drill_down.test.ts[2m > [22m[2mNavigationManager - Drill Down[2m > [22m[2mshould drill down into task with children
[22m[39m[NavigationManager] push history. Current stack size: 1, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

[90mstdout[2m | src/__tests__/drill_down.test.ts[2m > [22m[2mNavigationManager - Drill Down[2m > [22m[2mshould push current stack to history when drilling down
[22m[39m[NavigationManager] setStack() with 1 tasks from root.md

[90mstdout[2m | src/__tests__/drill_down.test.ts[2m > [22m[2mNavigationManager - Drill Down[2m > [22m[2mshould push current stack to history when drilling down
[22m[39m[NavigationManager] push history. Current stack size: 1, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

[90mstdout[2m | src/__tests__/drill_down.test.ts[2m > [22m[2mNavigationManager - Drill Down[2m > [22m[2mshould return true (allow empty stack) when drilling into task with no children
[22m[39m[NavigationManager] setStack() with 1 tasks from root.md

[90mstdout[2m | src/__tests__/drill_down.test.ts[2m > [22m[2mNavigationManager - Drill Down[2m > [22m[2mshould return true (allow empty stack) when drilling into task with no children
[22m[39m[NavigationManager] push history. Current stack size: 1, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

[90mstdout[2m | src/__tests__/drill_down.test.ts[2m > [22m[2mNavigationManager - Drill Down[2m > [22m[2mshould update current source when drilling down
[22m[39m[NavigationManager] setStack() with 1 tasks from root.md

[90mstdout[2m | src/__tests__/drill_down.test.ts[2m > [22m[2mNavigationManager - Drill Down[2m > [22m[2mshould update current source when drilling down
[22m[39m[NavigationManager] push history. Current stack size: 1, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

 [32m‚úì[39m src/__tests__/drill_down.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 100[2mms[22m[39m
 [32m‚úì[39m src/__tests__/link_parser_metadata.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 21[2mms[22m[39m
[90mstderr[2m | src/__tests__/workflow_scenarios.test.ts[2m > [22m[2mWorkflow Scenarios: Integration Features[2m > [22m[2mScenario 3: User Reorders task (Shift+J) skipping over an Anchor (Reordering Collision)
[22m[39m

Error: 
    at $effect [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/views/StackView.svelte:311:27[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at act [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:108:3[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/index.js:16:7


Error: 
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at act [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:108:3[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/index.js:16:7

 [32m‚úì[39m src/__tests__/dump.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 75[2mms[22m[39m
[90mstdout[2m | src/__tests__/async_file_creation.test.ts[2m > [22m[2mAsync File Creation in StackView[2m > [22m[2mshould await onTaskCreate before updating the stack
[22m[39m[NavigationManager] setStack() with 1 tasks from CurrentStack.md

 [32m‚úì[39m src/__tests__/async_file_creation.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 53[2mms[22m[39m
[90mstdout[2m | src/__tests__/navigation_sync.test.ts[2m > [22m[2mNavigationManager - Refresh on Go Back[2m > [22m[2mshould refresh the stack when going back to reflect metadata changes
[22m[39m[NavigationManager] setStack() with 1 tasks from parent.md

[90mstdout[2m | src/__tests__/navigation_sync.test.ts[2m > [22m[2mNavigationManager - Refresh on Go Back[2m > [22m[2mshould refresh the stack when going back to reflect metadata changes
[22m[39m[NavigationManager] push history. Current stack size: 1, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

 [32m‚úì[39m src/__tests__/navigation_sync.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 224[2mms[22m[39m
 [32m‚úì[39m src/__tests__/QuickAddUX.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 94[2mms[22m[39m
 [32m‚úì[39m src/__tests__/QuickAdd.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 32[2mms[22m[39m
[90mstdout[2m | src/__tests__/repro_jump_bug.test.ts[2m > [22m[2mReproduce Jump Bug[2m > [22m[2mshould reproduce index mismatch when task jumps past anchor
[22m[39m[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 45
[StackController DEBUG] Post-schedule tasks: Task A, Task B
[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 60
[StackController DEBUG] Post-schedule tasks: Task A, Task B
[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 90
[StackController DEBUG] Post-schedule tasks: Task B, Task A

 [32m‚úì[39m src/__tests__/repro_jump_bug.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 247[2mms[22m[39m
[90mstdout[2m | src/__tests__/anchor_collision.test.ts[2m > [22m[2mAnchor Collision (Rocks Pushing Rocks)[2m > [22m[2mexpanding upstream anchor should push downstream anchor
[22m[39mTask A: 09:00 - 90m
Task B: 10:30 (Expected 10:30)

 [32m‚úì[39m src/__tests__/anchor_collision.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 170[2mms[22m[39m
[90mstderr[2m | src/__tests__/workflow_scenarios.test.ts[2m > [22m[2mWorkflow Scenarios: Integration Features[2m > [22m[2mScenario 4: Drill Down - User presses Enter on a parent task and sees its children (Refactor)
[22m[39m

Error: 
    at $effect [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/views/StackView.svelte:311:27[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at act [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:108:3[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/index.js:16:7


Error: 
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at act [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:108:3[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/index.js:16:7

[90mstdout[2m | src/__tests__/stack_view_integration.test.ts[2m > [22m[2mStackView Integration[2m > [22m[2mshould handle setState for a file by calling StackLoader and setting stack
[22m[39m[NavigationManager] setStack() with 1 tasks from test.md

 [32m‚úì[39m src/__tests__/stack_view_integration.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 138[2mms[22m[39m
[90mstdout[2m | src/__tests__/PersistenceOptimization.test.ts[2m > [22m[2mStackView Persistence Optimization[2m > [22m[2mshould debounce saves to CurrentStack.md
[22m[39m[NavigationManager] setStack() with 1 tasks from CurrentStack.md
[NavigationManager] setStack() with 1 tasks from CurrentStack.md
[NavigationManager] setStack() with 1 tasks from CurrentStack.md

[90mstdout[2m | src/__tests__/PersistenceOptimization.test.ts[2m > [22m[2mStackView Persistence Optimization[2m > [22m[2mshould skip saving if IDs and status haven't changed
[22m[39m[NavigationManager] setStack() with 1 tasks from CurrentStack.md

[90mstdout[2m | src/__tests__/PersistenceOptimization.test.ts[2m > [22m[2mStackView Persistence Optimization[2m > [22m[2mshould skip saving if IDs and status haven't changed
[22m[39m[NavigationManager] setStack() with 1 tasks from CurrentStack.md

[90mstdout[2m | src/__tests__/PersistenceOptimization.test.ts[2m > [22m[2mStackView Persistence Optimization[2m > [22m[2mshould save if status changes
[22m[39m[NavigationManager] setStack() with 1 tasks from CurrentStack.md

[90mstdout[2m | src/__tests__/PersistenceOptimization.test.ts[2m > [22m[2mStackView Persistence Optimization[2m > [22m[2mshould save if status changes
[22m[39m[NavigationManager] setStack() with 1 tasks from CurrentStack.md

 [32m‚úì[39m src/__tests__/PersistenceOptimization.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 176[2mms[22m[39m
 [32m‚úì[39m src/__tests__/scheduler.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 122[2mms[22m[39m
[90mstdout[2m | src/__tests__/StackControllerPlanning.test.ts[2m > [22m[2mStackController - Planning Features (TDD)[2m > [22m[2mshould reorder a task to a specific index
[22m[39m[StackController] moveTaskToIndex(oldIndex: 0, newIndex: 1)
[StackController] After splice-out: Task 2, Task 3, Task 4
[StackController] After splice-in: Task 2, Task 1, Task 3, Task 4
[StackController] Final order: Task 2, Task 1, Task 3, Task 4 (moved task now at 1)

[90mstdout[2m | src/__tests__/StackControllerPlanning.test.ts[2m > [22m[2mStackController - Planning Features (TDD)[2m > [22m[2mshould move task around anchors correctly
[22m[39m[StackController] moveTaskToIndex(oldIndex: 0, newIndex: 3)
[StackController] After splice-out: Task 2, Task 3, Task 4
[StackController] After splice-in: Task 2, Task 3, Task 4, Task 1
[StackController] Final order: Task 2, Task 4, Task 3, Task 1 (moved task now at 3)

[90mstdout[2m | src/__tests__/StackControllerPlanning.test.ts[2m > [22m[2mStackController - Planning Features (TDD)[2m > [22m[2mshould refuse to move an anchored task
[22m[39m[StackController] moveTaskToIndex(oldIndex: 2, newIndex: 0)

 [32m‚úì[39m src/__tests__/StackControllerPlanning.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 190[2mms[22m[39m
[90mstdout[2m | src/__tests__/StackPersistenceFile.test.ts[2m > [22m[2mStackPersistenceService[2m > [22m[2mshould save stack to a markdown file
[22m[39m[StackPersistenceService] saveStack() path=CurrentStack.md, count=2

[90mstdout[2m | src/__tests__/StackPersistenceFile.test.ts[2m > [22m[2mStackPersistenceService[2m > [22m[2mshould overwrite existing stack file
[22m[39m[StackPersistenceService] saveStack() path=CurrentStack.md, count=2

 [32m‚úì[39m src/__tests__/StackPersistenceFile.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 83[2mms[22m[39m
[90mstdout[2m | src/__tests__/navigation_manager.test.ts[2m > [22m[2mNavigationManager - Basic Stack Management[2m > [22m[2mshould set initial stack from source
[22m[39m[NavigationManager] setStack() with 2 tasks from parent.md

[90mstdout[2m | src/__tests__/navigation_manager.test.ts[2m > [22m[2mNavigationManager - Basic Stack Management[2m > [22m[2mshould get current stack
[22m[39m[NavigationManager] setStack() with 1 tasks from source.md

[90mstdout[2m | src/__tests__/navigation_manager.test.ts[2m > [22m[2mNavigationManager - Basic Stack Management[2m > [22m[2mshould clear all navigation state
[22m[39m[NavigationManager] setStack() with 1 tasks from source.md

[90mstdout[2m | src/__tests__/navigation_manager.test.ts[2m > [22m[2mNavigationManager - Basic Stack Management[2m > [22m[2mshould store source path when setting stack
[22m[39m[NavigationManager] setStack() with 1 tasks from my-source.md

[90mstdout[2m | src/__tests__/navigation_manager.test.ts[2m > [22m[2mNavigationManager - Basic Stack Management[2m > [22m[2mshould refresh when an external update is detected for the current source
[22m[39m[NavigationManager] setStack() with 1 tasks from source.md
[NavigationManager] Refreshing stack. Source: source.md, Current tasks: 1

 [32m‚úì[39m src/__tests__/navigation_manager.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 115[2mms[22m[39m
 [32m‚úì[39m src/__tests__/export_formatting.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32m‚úì[39m src/__tests__/ReprocessNLP.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 137[2mms[22m[39m
[90mstdout[2m | src/__tests__/StackPlanningCommands.test.ts[2m > [22m[2mStack Planning Commands (TDD)[2m > [22m[2mReorderToIndexCommand should execute and undo
[22m[39m[StackController] moveTaskToIndex(oldIndex: 0, newIndex: 1)
[StackController] After splice-out: Task 2
[StackController] After splice-in: Task 2, Task 1
[StackController] Final order: Task 2, Task 1 (moved task now at 1)
[StackController] moveTaskToIndex(oldIndex: 1, newIndex: 0)
[StackController] After splice-out: Task 2
[StackController] After splice-in: Task 1, Task 2
[StackController] Final order: Task 1, Task 2 (moved task now at 0)

 [32m‚úì[39m src/__tests__/StackPlanningCommands.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 119[2mms[22m[39m
[90mstdout[2m | src/__tests__/stack_persistence_regression.test.ts[2m > [22m[2mReproduction: Stack Persistence & Focus[2m > [22m[2mshould restore exact stack state (archive bug fix)
[22m[39m[NavigationManager] setStack() with 3 tasks from root
[NavigationManager] setStack() with 2 tasks from root

[90mstdout[2m | src/__tests__/stack_persistence_regression.test.ts[2m > [22m[2mReproduction: Stack Persistence & Focus[2m > [22m[2mshould restore exact stack state (archive bug fix)
[22m[39m[NavigationManager] push history. Current stack size: 2, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

[90mstdout[2m | src/__tests__/stack_persistence_regression.test.ts[2m > [22m[2mReproduction: Stack Persistence & Focus[2m > [22m[2mshould track focus by ID and restore correctly even if stack reorders
[22m[39m[NavigationManager] setStack() with 2 tasks from root

[90mstdout[2m | src/__tests__/stack_persistence_regression.test.ts[2m > [22m[2mReproduction: Stack Persistence & Focus[2m > [22m[2mshould track focus by ID and restore correctly even if stack reorders
[22m[39m[NavigationManager] push history. Current stack size: 2, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

 [32m‚úì[39m src/__tests__/stack_persistence_regression.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 85[2mms[22m[39m
[90mstderr[2m | src/__tests__/workflow_scenarios.test.ts[2m > [22m[2mWorkflow Scenarios: Integration Features[2m > [22m[2mScenario 5: Persistence - User drills down and app reloads (Deep Persistence)
[22m[39m

Error: 
    at $effect [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/views/StackView.svelte:311:27[90m)[39m
    at mountModern [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/mount.js:34:10[90m)[39m
    at mount [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/mount.js:85:44[90m)[39m
    at Module.render [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/render.js:16:28[90m)[39m
    at render [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:49:73[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/__tests__/workflow_scenarios.test.ts:248:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at [90mfile:///home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:20


Error: 
    at mountModern [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/mount.js:34:10[90m)[39m
    at mount [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/mount.js:85:44[90m)[39m
    at Module.render [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte-core/src/render.js:16:28[90m)[39m
    at render [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:49:73[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/__tests__/workflow_scenarios.test.ts:248:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at [90mfile:///home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:20

[90mstdout[2m | src/__tests__/pipeline_flow.test.ts[2m > [22m[2mPipeline Integration[2m > [22m[2mshould flow from Dump -> Triage -> Shortlist -> Stack
[22m[39mMock Create called: todo-flow/2026-02-12-1507-34u1-My-Idea.md

 [32m‚úì[39m src/__tests__/pipeline_flow.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 54[2mms[22m[39m
 [32m‚úì[39m src/__tests__/golden_scheduler.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 99[2mms[22m[39m
 [32m‚úì[39m src/__tests__/persistence_advanced.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 81[2mms[22m[39m
 [32m‚úì[39m src/__tests__/metadata_preservation.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32m‚úì[39m src/__tests__/stack_loader_integration.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 77[2mms[22m[39m
 [32m‚úì[39m src/__tests__/triage.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 279[2mms[22m[39m
[90mstderr[2m | src/__tests__/stack_loader.test.ts[2m > [22m[2mStackLoader[2m > [22m[2mshould return empty array for non-existent path
[22m[39m[StackLoader] Path not found: "invalid"

 [32m‚úì[39m src/__tests__/stack_loader.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 37[2mms[22m[39m
[90mstdout[2m | src/__tests__/session_isolation.test.ts[2m > [22m[2mSession Isolation (Tray Concept)[2m > [22m[2mloadSpecificFiles loads ONLY the requested files, ignoring others
[22m[39m[StackLoader] loadSpecificFiles() entry with 2 IDs.

 [32m‚úì[39m src/__tests__/session_isolation.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 63[2mms[22m[39m
 [32m‚úì[39m src/__tests__/persistence.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 17[2mms[22m[39m
[90mstderr[2m | src/__tests__/workflow_scenarios.test.ts[2m > [22m[2mWorkflow Scenarios: Integration Features[2m > [22m[2mScenario 5: Persistence - User drills down and app reloads (Deep Persistence)
[22m[39m

Error: 
    at $effect [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39msrc/views/StackView.svelte:311:27[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at act [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:108:3[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/index.js:16:7


Error: 
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at act [90m(/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/pure.js:108:3[90m)[39m
    at [90m/home/ivan/obsidian_plugin_for_todo_flow/[39mnode_modules/[4m@testing-library[24m/svelte/src/index.js:16:7

 [31m‚ùØ[39m src/__tests__/workflow_scenarios.test.ts [2m([22m[2m5 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 115947[2mms[22m[39m
     [32m‚úì[39m Scenario 1: User exports the Daily Stack to a markdown note[32m 254[2mms[22m[39m
     [32m‚úì[39m Scenario 2: User toggles "Anchor" on a task and changes are saved to disk (Persistence)[32m 128[2mms[22m[39m
[31m     [31m√ó[31m Scenario 3: User Reorders task (Shift+J) skipping over an Anchor (Reordering Collision)[39m[33m 47771[2mms[22m[39m
[31m     [31m√ó[31m Scenario 4: Drill Down - User presses Enter on a parent task and sees its children (Refactor)[39m[33m 22262[2mms[22m[39m
[31m     [31m√ó[31m Scenario 5: Persistence - User drills down and app reloads (Deep Persistence)[39m[33m 45526[2mms[22m[39m
 [32m‚úì[39m src/__tests__/logger.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 162[2mms[22m[39m
 [32m‚úì[39m src/__tests__/sync_service.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 62[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/StackPersistence.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 141[2mms[22m[39m
       [32m‚úì[39m should include full NavigationManager state[32m 32[2mms[22m[39m
[31m       [31m√ó[31m should restore from navState if present (Deep Persistence)[39m[32m 43[2mms[22m[39m
       [32m‚úì[39m should fallback to standard load if no navState history[32m 40[2mms[22m[39m
       [32m‚úì[39m should delegate refresh to NavigationManager[32m 9[2mms[22m[39m
 [32m‚úì[39m src/__tests__/NLP_Integration.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 82[2mms[22m[39m
 [32m‚úì[39m src/__tests__/history.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 91[2mms[22m[39m
[90mstdout[2m | src/__tests__/StackController_Scaling.test.ts[2m > [22m[2mStackController: Scaling Logic[2m > [22m[2mshould scale duration up correctly (30m -> 45m -> 1h)
[22m[39m[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 45
[StackController DEBUG] Post-schedule tasks: Task 1
[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 60
[StackController DEBUG] Post-schedule tasks: Task 1

[90mstdout[2m | src/__tests__/StackController_Scaling.test.ts[2m > [22m[2mStackController: Scaling Logic[2m > [22m[2mshould scale duration down correctly (30m -> 20m -> 15m)
[22m[39m[StackController DEBUG] scaleDuration entry index=0 direction=down
[StackController DEBUG] Scaling task 0 down. New duration: 20
[StackController DEBUG] Post-schedule tasks: Task 1
[StackController DEBUG] scaleDuration entry index=0 direction=down
[StackController DEBUG] Scaling task 0 down. New duration: 15
[StackController DEBUG] Post-schedule tasks: Task 1

[90mstdout[2m | src/__tests__/StackController_Scaling.test.ts[2m > [22m[2mStackController: Scaling Logic[2m > [22m[2mshould respect boundaries (min 2m, max 480m)
[22m[39m[StackController DEBUG] scaleDuration entry index=0 direction=down
[StackController DEBUG] Scaling task 0 down. New duration: 2
[StackController DEBUG] Post-schedule tasks: Tiny
[StackController DEBUG] scaleDuration entry index=0 direction=up
[StackController DEBUG] Scaling task 0 up. New duration: 480
[StackController DEBUG] Post-schedule tasks: Huge

 [32m‚úì[39m src/__tests__/StackController_Scaling.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 223[2mms[22m[39m
 [32m‚úì[39m src/__tests__/NLP_Persistence.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 159[2mms[22m[39m
 [32m‚úì[39m src/__tests__/ViewManager.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 54[2mms[22m[39m
[90mstdout[2m | src/__tests__/SelectionPersistence.test.ts[2m > [22m[2mStackView Selection Persistence[2m > [22m[2mshould restore focus to the same task ID even if its index changes
[22m[39m[NavigationManager] setStack() with 3 tasks from EXPLICIT:3

[90mstdout[2m | src/__tests__/SelectionPersistence.test.ts[2m > [22m[2mStackView Selection Persistence[2m > [22m[2mshould restore focus to the same task ID even if its index changes
[22m[39m[NavigationManager] Refreshing stack. Source: EXPLICIT:3, Current tasks: 3

 [32m‚úì[39m src/__tests__/SelectionPersistence.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 131[2mms[22m[39m
[90mstdout[2m | src/__tests__/navigation_explicit.test.ts[2m > [22m[2mNavigationManager - Explicit Mode (TDD)[2m > [22m[2mgoBack should reload SPECIFIC FILES when previous source was EXPLICIT
[22m[39m[NavigationManager] setStack() with 2 tasks from EXPLICIT:2

[90mstdout[2m | src/__tests__/navigation_explicit.test.ts[2m > [22m[2mNavigationManager - Explicit Mode (TDD)[2m > [22m[2mgoBack should reload SPECIFIC FILES when previous source was EXPLICIT
[22m[39m[NavigationManager] push history. Current stack size: 2, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

[90mstdout[2m | src/__tests__/navigation_explicit.test.ts[2m > [22m[2mNavigationManager - Explicit Mode (TDD)[2m > [22m[2mgoBack should default to standard load for non-explicit sources
[22m[39m[NavigationManager] setStack() with 1 tasks from folder/path

[90mstdout[2m | src/__tests__/navigation_explicit.test.ts[2m > [22m[2mNavigationManager - Explicit Mode (TDD)[2m > [22m[2mgoBack should default to standard load for non-explicit sources
[22m[39m[NavigationManager] push history. Current stack size: 1, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

 [32m‚úì[39m src/__tests__/navigation_explicit.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32m‚úì[39m src/__tests__/archive.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32m‚úì[39m src/__tests__/task_name_resolution.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 97[2mms[22m[39m
[90mstdout[2m | src/__tests__/MobileCommands.test.ts[2m > [22m[2mAdd Task Command[2m > [22m[2mshould register "Add Task to Stack" command
[22m[39m[Todo Flow] Plugin Loading...

[90mstdout[2m | src/__tests__/MobileCommands.test.ts[2m > [22m[2mAdd Task Command[2m > [22m[2mshould register "Add Task to Stack" command
[22m[39m[Todo Flow] Logger initialized
[Todo Flow] Registering Views...
[Todo Flow] Registering reprocess-nlp command

 [32m‚úì[39m src/__tests__/MobileCommands.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 37[2mms[22m[39m
 [32m‚úì[39m src/__tests__/link_resolution.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 55[2mms[22m[39m
[90mstdout[2m | src/__tests__/CommandRegistration.test.ts[2m > [22m[2mTodoFlowPlugin Command Registration[2m > [22m[2mshould register "open-settings" command on load
[22m[39m[Todo Flow] Plugin Loading...

[90mstdout[2m | src/__tests__/CommandRegistration.test.ts[2m > [22m[2mTodoFlowPlugin Command Registration[2m > [22m[2mshould register "open-settings" command on load
[22m[39m[Todo Flow] Logger initialized
[Todo Flow] Registering Views...
[Todo Flow] Registering reprocess-nlp command

[90mstdout[2m | src/__tests__/CommandRegistration.test.ts[2m > [22m[2mTodoFlowPlugin Command Registration[2m > [22m[2mshould open settings tab when "open-settings" command is executed
[22m[39m[Todo Flow] Plugin Loading...

[90mstdout[2m | src/__tests__/CommandRegistration.test.ts[2m > [22m[2mTodoFlowPlugin Command Registration[2m > [22m[2mshould open settings tab when "open-settings" command is executed
[22m[39m[Todo Flow] Logger initialized
[Todo Flow] Registering Views...
[Todo Flow] Registering reprocess-nlp command

 [32m‚úì[39m src/__tests__/CommandRegistration.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 149[2mms[22m[39m
[90mstdout[2m | src/__tests__/go_back.test.ts[2m > [22m[2mNavigationManager - Go Back with Focus[2m > [22m[2mshould go back to previous stack and restore focus
[22m[39m[NavigationManager] setStack() with 2 tasks from root.md

[90mstdout[2m | src/__tests__/go_back.test.ts[2m > [22m[2mNavigationManager - Go Back with Focus[2m > [22m[2mshould go back to previous stack and restore focus
[22m[39m[NavigationManager] push history. Current stack size: 2, History depth before: 0
[NavigationManager] history pushed. Now depth: 1

[90mstdout[2m | src/__tests__/go_back.test.ts[2m > [22m[2mNavigationManager - Go Back with Focus[2m > [22m[2mshould return success false and index 0 at root
[22m[39m[NavigationManager] setStack() with 0 tasks from root.md

 [32m‚úì[39m src/__tests__/go_back.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 143[2mms[22m[39m
 [32m‚úì[39m src/__tests__/title_resolution.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 62[2mms[22m[39m
 [32m‚úì[39m src/__tests__/ghost_scheduling.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 158[2mms[22m[39m
 [32m‚úì[39m src/__tests__/link_parser.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32m‚úì[39m src/__tests__/rollup_logic.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32m‚úì[39m src/__tests__/constraints.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 133[2mms[22m[39m
 [32m‚úì[39m src/__tests__/settings_ui.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32m‚úì[39m src/__tests__/StackViewReload.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 36[2mms[22m[39m
 [32m‚úì[39m src/__tests__/TriageOpen.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32m‚úì[39m src/__tests__/rollup_lab.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 132[2mms[22m[39m
 [32m‚úì[39m src/__tests__/filename.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 83[2mms[22m[39m
 [32m‚úì[39m src/__tests__/TriageQuickAdd.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32m‚úì[39m src/__tests__/utils.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32m‚úì[39m src/__tests__/task_query_service.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32m‚úì[39m src/__tests__/ExportService.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32m‚úì[39m src/__tests__/keybindings.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32m‚úì[39m src/__tests__/InsertStack.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 94[2mms[22m[39m
 [32m‚úì[39m src/__tests__/StackMobile.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32m‚úì[39m src/__tests__/TriageSwipe.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32m‚úì[39m src/__tests__/SmartImport.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 26[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 11 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/__tests__/StackDragAndDrop.test.ts[2m > [22mStackView Drag & Drop TDD[2m > [22mshould update focusedIndex after a successful drag-and-drop
[31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

[36m [2m‚ùØ[22m src/__tests__/StackDragAndDrop.test.ts:[2m285:30[22m[39m
    [90m283| [39m        })[33m;[39m
    [90m284| [39m
    [90m285| [39m        [34mexpect[39m(focusedIndex)[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m
    [90m   | [39m                             [31m^[39m
    [90m286| [39m    })[33m;[39m
    [90m287| [39m})[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/StackPersistence.test.ts[2m > [22mStack Persistence[2m > [22msetState[2m > [22mshould restore from navState if present (Deep Persistence)
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'length')[39m
[36m [2m‚ùØ[22m StackView.setState src/views/StackView.ts:[2m178:89[22m[39m
    [90m176| [39m            this.parentTaskName = this.resolveParentName(this.rootPath‚Ä¶
    [90m177| [39m
    [90m178| [39m            if (this.logger) this.logger.info(`[StackView] Raw tasks l‚Ä¶
    [90m   | [39m                                                                                        [31m^[39m
    [90m179| [39m
    [90m180| [39m            if (this.logger) this.logger.info(`[StackView] Raw tasks l‚Ä¶
[90m [2m‚ùØ[22m src/__tests__/StackPersistence.test.ts:[2m199:13[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/StackViewMobileGestures.test.ts[2m > [22mStackView Mobile Gestures Integration[2m > [22mshould stop event propagation during gestures (Gesture Shadowing)
[31m[1mAssertionError[22m: expected "vi.fn()" to be called at least once[39m
[36m [2m‚ùØ[22m src/__tests__/StackViewMobileGestures.test.ts:[2m179:36[22m[39m
    [90m177| [39m
    [90m178| [39m        // EXPECTATION (Red): touchstart MUST stop propagation to prev‚Ä¶
    [90m179| [39m        [34mexpect[39m(stopPropagationSpy)[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m180| [39m        stopPropagationSpy[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m181| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/help_layer.test.ts[2m > [22mFeature: Help Layer[2m > [22mshould toggle help overlay on "?" keypress and block interaction
[31m[1mAssertionError[22m: expected '‚†ø 15:05 15:05  Task 1 ‚àí 30m +    ' to contain 'Task 2'[39m

Expected: [32m"Task 2"[39m
Received: [31m"‚†ø 15:05 15:05  Task 1 ‚àí 30m +    "[39m

[36m [2m‚ùØ[22m src/__tests__/help_layer.test.ts:[2m94:41[22m[39m
    [90m 92| [39m
    [90m 93| [39m        const newFocused = container.querySelector('.todo-flow-task-ca‚Ä¶
    [90m 94| [39m        [34mexpect[39m(newFocused[33m?.[39mtextContent)[33m.[39m[34mtoContain[39m([32m'Task 2'[39m)[33m;[39m
    [90m   | [39m                                        [31m^[39m
    [90m 95| [39m    })[33m;[39m
    [90m 96| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/ui_workbench.test.ts[2m > [22mUI Workbench: Interaction & Stability[2m > [22mStackView: Should respond to keys when container is focused
[31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

[36m [2m‚ùØ[22m src/__tests__/ui_workbench.test.ts:[2m116:60[22m[39m
    [90m114| [39m
    [90m115| [39m        const items = container.querySelectorAll('.todo-flow-task-card‚Ä¶
    [90m116| [39m        [34mexpect[39m(items[[34m1[39m][33m![39m[33m.[39mclassList[33m.[39m[34mcontains[39m([32m'is-focused'[39m))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m   | [39m                                                           [31m^[39m
    [90m117| [39m    })[33m;[39m
    [90m118| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/ui_workbench.test.ts[2m > [22mUI Workbench: Interaction & Stability[2m > [22mStackView: Should distinguish between j (nav) and Shift+J (move)
[31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

[36m [2m‚ùØ[22m src/__tests__/ui_workbench.test.ts:[2m157:60[22m[39m
    [90m155| [39m
    [90m156| [39m        [35mlet[39m items [33m=[39m container[33m.[39m[34mquerySelectorAll[39m([32m'.todo-flow-task-card'[39m)[33m;[39m
    [90m157| [39m        [34mexpect[39m(items[[34m1[39m][33m![39m[33m.[39mclassList[33m.[39m[34mcontains[39m([32m'is-focused'[39m))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m   | [39m                                                           [31m^[39m
    [90m158| [39m
    [90m159| [39m        [90m// 2. Send 'J' (Shift+J) -> Move Task 2 DOWN? [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/ui_workbench.test.ts[2m > [22mUI Workbench: Interaction & Stability[2m > [22mStackView: Should recalculate schedule (start times) when setTasks is called
[31m[1mAssertionError[22m: expected '  ' to contain '09:00'[39m

Expected: [32m"09:00"[39m
Received: [31m"  "[39m

[36m [2m‚ùØ[22m src/__tests__/ui_workbench.test.ts:[2m222:38[22m[39m
    [90m220| [39m        [35mconst[39m timeCol [33m=[39m container[33m.[39m[34mquerySelector[39m([32m'.time-col'[39m)[33m;[39m
    [90m221| [39m        [34mexpect[39m(timeCol)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m222| [39m        [34mexpect[39m(timeCol[33m![39m[33m.[39mtextContent)[33m.[39m[34mtoContain[39m([32m'09:00'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m223| [39m    })[33m;[39m
    [90m224| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/ui_workbench.test.ts[2m > [22mUI Workbench: Interaction & Stability[2m > [22mStackView: Should delete task on "Backspace"
[31m[1mAssertionError[22m: expected 2 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 2[39m

[36m [2m‚ùØ[22m src/__tests__/ui_workbench.test.ts:[2m323:31[22m[39m
    [90m321| [39m
    [90m322| [39m        [35mconst[39m titles [33m=[39m container[33m.[39m[34mquerySelectorAll[39m([32m'.title'[39m)[33m;[39m
    [90m323| [39m        [34mexpect[39m(titles[33m.[39mlength)[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m324| [39m        [34mexpect[39m(titles[[34m0[39m][33m![39m[33m.[39mtextContent)[33m.[39m[34mtoBe[39m([32m'Task 2'[39m)[33m;[39m
    [90m325| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[8/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/workflow_scenarios.test.ts[2m > [22mWorkflow Scenarios: Integration Features[2m > [22mScenario 3: User Reorders task (Shift+J) skipping over an Anchor (Reordering Collision)
[31m[1mSvelte error[22m: effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded[39m
[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[9/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/workflow_scenarios.test.ts[2m > [22mWorkflow Scenarios: Integration Features[2m > [22mScenario 3: User Reorders task (Shift+J) skipping over an Anchor (Reordering Collision)
[31m[1mSvelte error[22m: effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded[39m
[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[10/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/workflow_scenarios.test.ts[2m > [22mWorkflow Scenarios: Integration Features[2m > [22mScenario 4: Drill Down - User presses Enter on a parent task and sees its children (Refactor)
[31m[1mSvelte error[22m: effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded[39m
[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[11/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/workflow_scenarios.test.ts[2m > [22mWorkflow Scenarios: Integration Features[2m > [22mScenario 5: Persistence - User drills down and app reloads (Deep Persistence)
[31m[1mSvelte error[22m: effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded[39m
[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[12/13]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/__tests__/workflow_scenarios.test.ts[2m > [22mWorkflow Scenarios: Integration Features[2m > [22mScenario 5: Persistence - User drills down and app reloads (Deep Persistence)
[31m[1mSvelte error[22m: effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded[39m
[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[13/13]‚éØ[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Unhandled Errors [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m
[31m[1m
Vitest caught 3 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Uncaught Exception [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ[39m
[31m[1mTypeError[22m: controller.updateNow is not a function[39m
[36m [2m‚ùØ[22m Timeout._onTimeout src/views/StackView.svelte:[2m139:40[22m[39m
    [90m137| [39m        const interval = setInterval(() => {
    [90m138| [39m            internalNow = moment();
    [90m139| [39m            if (controller) controller.updateNow(internalNow);
    [90m   | [39m                                       [31m^[39m
    [90m140| [39m        }, 60000);
    [90m141| [39m
[90m [2m‚ùØ[22m listOnTimeout node:internal/timers:[2m581:17[22m[39m
[90m [2m‚ùØ[22m processTimers node:internal/timers:[2m519:7[22m[39m

[31mThis error originated in "[1msrc/__tests__/workflow_scenarios.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Uncaught Exception [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ[39m
[31m[1mTypeError[22m: controller.updateNow is not a function[39m
[36m [2m‚ùØ[22m Timeout._onTimeout src/views/StackView.svelte:[2m139:40[22m[39m
    [90m137| [39m        const interval = setInterval(() => {
    [90m138| [39m            internalNow = moment();
    [90m139| [39m            if (controller) controller.updateNow(internalNow);
    [90m   | [39m                                       [31m^[39m
    [90m140| [39m        }, 60000);
    [90m141| [39m
[90m [2m‚ùØ[22m listOnTimeout node:internal/timers:[2m581:17[22m[39m
[90m [2m‚ùØ[22m processTimers node:internal/timers:[2m519:7[22m[39m

[31mThis error originated in "[1msrc/__tests__/workflow_scenarios.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Uncaught Exception [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ[39m
[31m[1mTypeError[22m: controller.updateNow is not a function[39m
[36m [2m‚ùØ[22m Timeout._onTimeout src/views/StackView.svelte:[2m139:40[22m[39m
    [90m137| [39m        const interval = setInterval(() => {
    [90m138| [39m            internalNow = moment();
    [90m139| [39m            if (controller) controller.updateNow(internalNow);
    [90m   | [39m                                       [31m^[39m
    [90m140| [39m        }, 60000);
    [90m141| [39m
[90m [2m‚ùØ[22m listOnTimeout node:internal/timers:[2m581:17[22m[39m
[90m [2m‚ùØ[22m processTimers node:internal/timers:[2m519:7[22m[39m

[31mThis error originated in "[1msrc/__tests__/workflow_scenarios.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m


[2m Test Files [22m [1m[31m6 failed[39m[22m[2m | [22m[1m[32m78 passed[39m[22m[90m (84)[39m
[2m      Tests [22m [1m[31m11 failed[39m[22m[2m | [22m[1m[32m265 passed[39m[22m[90m (276)[39m
[2m     Errors [22m [1m[31m3 errors[39m[22m
[2m   Start at [22m 15:05:36
[2m   Duration [22m 192.14s[2m (transform 17.44s, setup 8.50s, import 68.45s, tests 128.76s, environment 230.29s)[22m

