
> obsidian_plugin_for_todo_flow@1.2.19 e2e
> npm run e2e:setup && wdio run wdio.conf.mts --spec tests/e2e/BUG-017_gesture_shadowing.spec.ts


> obsidian_plugin_for_todo_flow@1.2.19 e2e:setup
> npx tsx tests/e2e/setup-vault.ts

Stopping existing Obsidian instances...
[E2E Setup] Initializing vault at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[E2E Setup] Existing plugins found: todo-flow
[E2E Setup] Community plugins config updated at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/community-plugins.json
[E2E Setup] Copied main.js to vault plugins.
[E2E Setup] Copied styles.css to vault plugins.
[E2E Setup] Copied manifest.json to vault plugins.
[E2E Setup] Creating vault config to trust plugins...
[E2E Setup] Vault config created at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/config.json
[E2E Setup] Creating vault app.json to disable safe mode...
[E2E Setup] Vault app.json created at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/app.json
[E2E Setup] --- Vault initialization complete ---
2026-02-08T08:56:44.754Z DEBUG @wdio/utils:initializeServices: initialize service "obsidian" as NPM package
2026-02-08T08:56:45.177Z INFO @wdio/cli:launcher: Run onPrepare hook
2026-02-08T08:56:45.472Z DEBUG @wdio/cli:utils: Finished to run "onPrepare" hook in 294ms
2026-02-08T08:56:45.477Z WARN @wdio/config:ConfigParser: pattern tests/e2e/manual-open.spec.ts did not match any file

Execution of 1 workers started at 2026-02-08T08:56:45.481Z

2026-02-08T08:56:45.484Z WARN @wdio/config:ConfigParser: pattern tests/e2e/manual-open.spec.ts did not match any file
2026-02-08T08:56:45.487Z INFO @wdio/cli:launcher: Run onWorkerStart hook
2026-02-08T08:56:45.487Z DEBUG @wdio/cli:utils: Finished to run "onWorkerStart" hook in 0ms
2026-02-08T08:56:45.488Z INFO @wdio/xvfb: XvfbManager.init() called
2026-02-08T08:56:45.489Z INFO @wdio/xvfb: Xvfb not needed on current platform
2026-02-08T08:56:45.491Z INFO @wdio/local-runner: Start worker 0-0 with arg: run wdio.conf.mts --spec tests/e2e/BUG-017_gesture_shadowing.spec.ts
2026-02-08T08:56:45.500Z INFO @wdio/xvfb:ProcessFactory: xvfb-run not found, falling back to regular fork
2026-02-08T08:56:45.501Z INFO @wdio/xvfb:ProcessFactory: ProcessFactory: shouldRun=false, isAvailable=false
2026-02-08T08:56:45.501Z INFO @wdio/xvfb:ProcessFactory: Creating worker process with regular fork
2026-02-08T08:56:45.512Z DEBUG @wdio/local-runner: Send command run to worker with cid "0-0"
[0-0] 2026-02-08T08:56:47.351Z INFO @wdio/local-runner: Run worker command: run
[0-0] 2026-02-08T08:56:47.385Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-08T08:56:47.392Z DEBUG @wdio/utils:initializeServices: initialize service "obsidian" as NPM package
[0-0] 2026-02-08T08:56:48.099Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-08T08:56:48.167Z DEBUG @wdio/utils:shim: Finished to run "beforeSession" hook in 67ms
[0-0] RUNNING in chrome(120.0.6099.283) - file:///tests/e2e/BUG-017_gesture_shadowing.spec.ts
[0-0] 2026-02-08T08:56:48.354Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-08T08:56:48.357Z INFO webdriver: Initiate new session using the WebDriver protocol
[0-0] 2026-02-08T08:56:48.653Z INFO chromedriver: Starting ChromeDriver 120.0.6099.283 (967a55bac315b0bcf08b09f7a9b86b318f951276-refs/heads/main@{#1232704}) on port 33963
[0-0] 2026-02-08T08:56:48.653Z INFO chromedriver: Only local connections are allowed.
[0-0] 2026-02-08T08:56:48.654Z INFO chromedriver: Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.
[0-0] 2026-02-08T08:56:48.654Z INFO chromedriver: ChromeDriver was started successfully.
[0-0] 2026-02-08T08:56:48.655Z INFO @wdio/utils: Started Chromedriver v120.0.6099.283 with params --port=33963 --binary=/home/ivan/obsidian_plugin_for_todo_flow/.obsidian-cache/electron-chromedriver/linux-x64/28.2.3/chromedriver --allowed-origins=* in 32ms on port 33963
[0-0] 2026-02-08T08:56:48.684Z INFO webdriver: [POST] http://localhost:33963/session
[0-0] 2026-02-08T08:56:48.940Z INFO chromedriver: 2026-02-08 08:56:48 Loading updated app package /tmp/obsidian-launcher-config-75zojL/obsidian-1.11.7.asar
[0-0] 2026-02-08T08:56:48.956Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-08T08:56:49.407Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-75zojL/1aaaf03744bc8910.json'
[0-0] 2026-02-08T08:56:49.828Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-08T08:56:49.829Z INFO webdriver: [GET] http://localhost:33963/session/6830cb82bd357226b32dc492f469cac7/window
[0-0] 2026-02-08T08:56:49.842Z INFO webdriver: RESULT 2715F904D9F09C6173FE6DBB8BBD24F3
[0-0] [WDIO] Starting E2E test session
[0-0] 2026-02-08T08:56:49.849Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:49.851Z INFO webdriver: [POST] http://localhost:33963/session/6830cb82bd357226b32dc492f469cac7/execute/sync
[0-0] 2026-02-08T08:56:49.851Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:50.849Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:50.854Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:50.855Z INFO webdriver: [POST] http://localhost:33963/session/6830cb82bd357226b32dc492f469cac7/execute/sync
[0-0] 2026-02-08T08:56:50.856Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:50.912Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:50.915Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:50.918Z INFO webdriver: [POST] http://localhost:33963/session/6830cb82bd357226b32dc492f469cac7/execute/sync
[0-0] 2026-02-08T08:56:50.918Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:50.975Z INFO webdriver: RESULT true
[0-0] 2026-02-08T08:56:50.981Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-08T08:56:50.986Z INFO webdriver: [POST] http://localhost:33963/session/6830cb82bd357226b32dc492f469cac7/execute/sync
[0-0] 2026-02-08T08:56:50.987Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-08T08:56:51.271Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:51.274Z DEBUG @wdio/utils:shim: Finished to run "before" hook in 1429ms
[0-0] 2026-02-08T08:56:51.315Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-08T08:56:51.386Z INFO webdriver: COMMAND deleteSession(<object>)
[0-0] 2026-02-08T08:56:51.387Z INFO webdriver: [DELETE] http://localhost:33963/session/6830cb82bd357226b32dc492f469cac7
[0-0] 2026-02-08T08:56:51.387Z INFO webdriver: DATA {"deleteSessionOpts":{"shutdownDriver":false}}
[0-0] 2026-02-08T08:56:51.491Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:51.495Z INFO webdriver: [POST] http://localhost:33963/session
[0-0] 2026-02-08T08:56:51.819Z INFO chromedriver: 2026-02-08 08:56:51 Loading updated app package /tmp/obsidian-launcher-config-JJ58TV/obsidian-1.11.7.asar
[0-0] 2026-02-08T08:56:51.835Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-08T08:56:52.271Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-JJ58TV/4f1ff07b3f29e950.json'
[0-0] 2026-02-08T08:56:52.592Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-08T08:56:52.592Z INFO webdriver: [GET] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/window
[0-0] 2026-02-08T08:56:52.598Z INFO webdriver: RESULT E7E566BCAC6C8F222A0DEC43326605BC
[0-0] 2026-02-08T08:56:52.599Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:52.600Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:52.601Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:53.374Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:53.377Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:53.379Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:53.380Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:53.424Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:53.428Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:53.432Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:53.435Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:53.471Z INFO webdriver: RESULT true
[0-0] 2026-02-08T08:56:53.471Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-08T08:56:53.473Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:53.473Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-08T08:56:53.668Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:53.672Z INFO webdriver: COMMAND setWindowRect(null, null, 390, 844)
[0-0] 2026-02-08T08:56:53.674Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/window/rect
[0-0] 2026-02-08T08:56:53.674Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-08T08:56:53.704Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-08T08:56:53.713Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-08T08:56:53.714Z INFO webdriver: Retrying 1/3
[0-0] 2026-02-08T08:56:53.715Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/window/rect
[0-0] 2026-02-08T08:56:53.715Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-08T08:56:53.735Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-08T08:56:54.236Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-08T08:56:54.236Z INFO webdriver: Retrying 2/3
[0-0] 2026-02-08T08:56:54.236Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/window/rect
[0-0] 2026-02-08T08:56:54.237Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-08T08:56:54.258Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-08T08:56:55.259Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-08T08:56:55.259Z INFO webdriver: Retrying 3/3
[0-0] 2026-02-08T08:56:55.260Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/window/rect
[0-0] 2026-02-08T08:56:55.260Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-08T08:56:55.276Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-08T08:56:55.276Z ERROR webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] [WDIO] Failed to set window size, continuing with CSS emulation: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-08T08:56:55.279Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:55.280Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:55.281Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{document.body.classList.add(\"is-mobile\");document.body.classList.remove(\"is-desktop\");if(window.app){window.app.isMobile=true}window.dispatchEvent(new Event(\"resize\"))}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:55.338Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:55.339Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:55.340Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:55.340Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const plugin=app.plugins.plugins[\"todo-flow\"];if(plugin){plugin.settings.targetFolder=\"todo-flow\";plugin.settings.debug=true;await plugin.saveSettings()}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:55.374Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:55.381Z DEBUG @wdio/utils:shim: Finished to run "beforeTest" hook in 1ms
[0-0] 2026-02-08T08:56:55.383Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:55.383Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:55.384Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const plugins=window.app.plugins.enabledPlugins;const isEnabled=plugins.has(\"todo-flow\");const pluginInstance=window.app.plugins.getPlugin(\"todo-flow\");if(pluginInstance){pluginInstance.settings.debug=true;pluginInstance.logger.setEnabled(true)}return{isEnabled,hasInstance:!!pluginInstance,allEnabled:Array.from(plugins)}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:55.390Z INFO webdriver: RESULT {
[0-0]   allEnabled: [ 'todo-flow', 'wdio-obsidian-service-plugin' ],
[0-0]   hasInstance: true,
[0-0]   isEnabled: true
[0-0] }
[0-0] [Test Setup] Plugin Status: {"allEnabled":["todo-flow","wdio-obsidian-service-plugin"],"hasInstance":true,"isEnabled":true}
[0-0] 2026-02-08T08:56:55.393Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:55.394Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:55.394Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{try{const rootFiles=app.vault.getMarkdownFiles();for(const file of rootFiles){await app.vault.delete(file)}console.log(`[Test Setup] Deleted existing markdown files`);const folder=app.vault.getAbstractFileByPath(\"todo-flow\");if(folder){await app.vault.delete(folder,true);console.log(\"[Test Setup] Deleted existing todo-flow folder\")}localStorage.removeItem(\"_todo_flow_debug_logs\")}catch(e){console.error(\"Cleanup or Writability test failed:\",e)}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:55.430Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:55.432Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:55.432Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:55.433Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.commands.executeCommandById(\"todo-flow:open-todo-dump\")).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:55.508Z INFO webdriver: RESULT true
[0-0] 2026-02-08T08:56:55.509Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:55.510Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:55.510Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{return app.workspace.getLeavesOfType(\"todo-flow-dump-view\").length>0}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:55.523Z INFO webdriver: RESULT true
[0-0] 2026-02-08T08:56:55.531Z INFO webdriver: COMMAND findElement("css selector", "textarea.todo-flow-dump-input")
[0-0] 2026-02-08T08:56:55.531Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element
[0-0] 2026-02-08T08:56:55.531Z INFO webdriver: DATA {"using":"css selector","value":"textarea.todo-flow-dump-input"}
[0-0] 2026-02-08T08:56:55.554Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '62E963043E9CD65AA6638D8D5FA5F29F_element_42'
[0-0] }
[0-0] [Test Setup] Creating task: Swipe Me
[0-0] 2026-02-08T08:56:55.576Z INFO webdriver: COMMAND elementClear("62E963043E9CD65AA6638D8D5FA5F29F_element_42")
[0-0] 2026-02-08T08:56:55.576Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element/62E963043E9CD65AA6638D8D5FA5F29F_element_42/clear
[0-0] 2026-02-08T08:56:55.576Z INFO webdriver: DATA {}
[0-0] 2026-02-08T08:56:55.628Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:55.633Z INFO webdriver: COMMAND elementSendKeys("62E963043E9CD65AA6638D8D5FA5F29F_element_42", "Swipe Me")
[0-0] 2026-02-08T08:56:55.634Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element/62E963043E9CD65AA6638D8D5FA5F29F_element_42/value
[0-0] 2026-02-08T08:56:55.635Z INFO webdriver: DATA {"text":"Swipe Me"}
[0-0] 2026-02-08T08:56:55.711Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:55.714Z INFO webdriver: COMMAND performActions(<object>)
[0-0] 2026-02-08T08:56:55.714Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/actions
[0-0] 2026-02-08T08:56:55.714Z INFO webdriver: DATA {"actions":[{"id":"key1","type":"key","parameters":{},"actions":[{"type":"keyDown","value":""},{"type":"pause","duration":10},{"type":"keyUp","value":""}]}]}
[0-0] 2026-02-08T08:56:55.733Z INFO webdriver: RESULT null
[0-0] [Test Setup] Submitting dump...
[0-0] 2026-02-08T08:56:56.237Z INFO webdriver: COMMAND elementClear("62E963043E9CD65AA6638D8D5FA5F29F_element_42")
[0-0] 2026-02-08T08:56:56.238Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element/62E963043E9CD65AA6638D8D5FA5F29F_element_42/clear
[0-0] 2026-02-08T08:56:56.238Z INFO webdriver: DATA {}
[0-0] 2026-02-08T08:56:56.279Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:56.280Z INFO webdriver: COMMAND elementSendKeys("62E963043E9CD65AA6638D8D5FA5F29F_element_42", "<Screenshot[base64]>")
[0-0] 2026-02-08T08:56:56.281Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element/62E963043E9CD65AA6638D8D5FA5F29F_element_42/value
[0-0] 2026-02-08T08:56:56.281Z INFO webdriver: DATA {"text":"done"}
[0-0] 2026-02-08T08:56:56.332Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:56.332Z INFO webdriver: COMMAND performActions(<object>)
[0-0] 2026-02-08T08:56:56.333Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/actions
[0-0] 2026-02-08T08:56:56.333Z INFO webdriver: DATA {"actions":[{"id":"key2","type":"key","parameters":{},"actions":[{"type":"keyDown","value":""},{"type":"pause","duration":10},{"type":"keyUp","value":""}]}]}
[0-0] 2026-02-08T08:56:56.435Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:56.436Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:56.437Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:56.438Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{return app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length>0}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:56.458Z INFO webdriver: RESULT true
[0-0] 2026-02-08T08:56:56.458Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:56.458Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:56.459Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const leaf=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0];if(leaf){app.workspace.setActiveLeaf(leaf,{focus:true})}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:56.473Z INFO webdriver: RESULT null
[0-0] [Test Setup] Shortlisting task 0: Swipe Me...
[0-0] 2026-02-08T08:56:56.474Z INFO webdriver: COMMAND performActions(<object>)
[0-0] 2026-02-08T08:56:56.475Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/actions
[0-0] 2026-02-08T08:56:56.475Z INFO webdriver: DATA {"actions":[{"id":"key3","type":"key","parameters":{},"actions":[{"type":"keyDown","value":"k"},{"type":"pause","duration":10},{"type":"keyUp","value":"k"}]}]}
[0-0] 2026-02-08T08:56:56.503Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:57.306Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:57.307Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:57.307Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{return app.workspace.getLeavesOfType(\"todo-flow-stack-view\").length>0}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:57.321Z INFO webdriver: RESULT true
[0-0] 2026-02-08T08:56:57.824Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:57.825Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:57.826Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const leaf=app.workspace.getLeavesOfType(\"todo-flow-stack-view\")[0];if(leaf){app.workspace.setActiveLeaf(leaf,{focus:true});const container=document.querySelector(\".todo-flow-stack-container\");if(container)container.focus()}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:57.858Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:58.165Z INFO webdriver: COMMAND findElement("css selector", ".todo-flow-task-card")
[0-0] 2026-02-08T08:56:58.166Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element
[0-0] 2026-02-08T08:56:58.167Z INFO webdriver: DATA {"using":"css selector","value":".todo-flow-task-card"}
[0-0] 2026-02-08T08:56:58.221Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '62E963043E9CD65AA6638D8D5FA5F29F_element_60'
[0-0] }
[0-0] 2026-02-08T08:56:58.241Z INFO webdriver: COMMAND findElements("css selector", ".todo-flow-task-card")
[0-0] 2026-02-08T08:56:58.242Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/elements
[0-0] 2026-02-08T08:56:58.244Z INFO webdriver: DATA {"using":"css selector","value":".todo-flow-task-card"}
[0-0] 2026-02-08T08:56:58.271Z INFO webdriver: RESULT [
[0-0]   {
[0-0]     'element-6066-11e4-a52e-4f735466cecf': '62E963043E9CD65AA6638D8D5FA5F29F_element_60'
[0-0]   }
[0-0] ]
[0-0] 2026-02-08T08:56:58.279Z INFO webdriver: COMMAND getElementTagName("62E963043E9CD65AA6638D8D5FA5F29F_element_60")
[0-0] 2026-02-08T08:56:58.280Z INFO webdriver: [GET] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element/62E963043E9CD65AA6638D8D5FA5F29F_element_60/name
[0-0] 2026-02-08T08:56:58.291Z INFO webdriver: RESULT div
[0-0] 2026-02-08T08:56:58.291Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:58.292Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:58.292Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{window._touchMoveEvents=[];window._logs=[];const card2=document.querySelector(\".todo-flow-task-card\");if(card2){card2.addEventListener(\"touchmove\",e=>{window._touchMoveEvents.push({defaultPrevented:e.defaultPrevented,cancelable:e.cancelable})},{capture:true})}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:58.303Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:58.304Z INFO webdriver: COMMAND getElementRect("62E963043E9CD65AA6638D8D5FA5F29F_element_60")
[0-0] 2026-02-08T08:56:58.305Z INFO webdriver: [GET] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element/62E963043E9CD65AA6638D8D5FA5F29F_element_60/rect
[0-0] 2026-02-08T08:56:58.323Z INFO webdriver: RESULT { height: 86, width: 600, x: 236, y: 185.8582763671875 }
[0-0] 2026-02-08T08:56:58.325Z INFO webdriver: COMMAND getElementRect("62E963043E9CD65AA6638D8D5FA5F29F_element_60")
[0-0] 2026-02-08T08:56:58.326Z INFO webdriver: [GET] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/element/62E963043E9CD65AA6638D8D5FA5F29F_element_60/rect
[0-0] 2026-02-08T08:56:58.341Z INFO webdriver: RESULT { height: 86, width: 600, x: 236, y: 185.8582763671875 }
[0-0] 2026-02-08T08:56:58.342Z INFO webdriver: COMMAND performActions(<object>)
[0-0] 2026-02-08T08:56:58.342Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/actions
[0-0] 2026-02-08T08:56:58.343Z INFO webdriver: DATA {"actions":[{"type":"pointer","id":"finger1","parameters":{"pointerType":"touch"},"actions":[{"type":"pointerMove","duration":0,"x":536,"y":229},{"type":"pointerDown","button":0},{"type":"pointerMove","duration":500,"x":686,"y":229},{"type":"pointerUp","button":0}]}]}
[0-0] 2026-02-08T08:56:58.933Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:59.935Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:59.935Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:59.936Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const events=window._touchMoveEvents||[];const logs=window._logs||[];return{totalEvents:events.length,preventedCount:events.filter(e=>e.defaultPrevented).length,logs}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:59.942Z INFO webdriver: RESULT {
[0-0]   logs: [
[0-0]     '[GESTURE] pointerdown taskId=todo-flow/2026-02-08-0956-xv6g-Swipe-Me.md isPrimary=true button=0',
[0-0]     '[GESTURE] pointermove clientX=686.0 clientY=229.0',
[0-0]     '[GESTURE] handleTouchBlocking entry swiping=todo-flow/2026-02-08-0956-xv6g-Swipe-Me.md'
[0-0]   ],
[0-0]   preventedCount: 0,
[0-0]   totalEvents: 1
[0-0] }
[0-0] [TEST DEBUG] Total touchmove events captured: 1
[0-0] [TEST DEBUG] Prevented touchmove events: 0
[0-0] [TEST DEBUG] Plugin Logs:
[0-0] [GESTURE] pointerdown taskId=todo-flow/2026-02-08-0956-xv6g-Swipe-Me.md isPrimary=true button=0
[0-0] [GESTURE] pointermove clientX=686.0 clientY=229.0
[0-0] [GESTURE] handleTouchBlocking entry swiping=todo-flow/2026-02-08-0956-xv6g-Swipe-Me.md
[0-0] 2026-02-08T08:56:59.951Z DEBUG @wdio/utils:shim: Finished to run "afterTest" hook in 0ms
[0-0] 2026-02-08T08:56:59.952Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:59.953Z INFO webdriver: [POST] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29/execute/sync
[0-0] 2026-02-08T08:56:59.953Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const adapter=app.vault.adapter;const todoFlowDir=\"todo-flow\";if(await adapter.exists(todoFlowDir)){const listing=await adapter.list(todoFlowDir);for(const file of listing.files){try{await adapter.remove(file)}catch(e){console.warn(`Failed to remove ${file}:`,e)}}}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:59.962Z INFO webdriver: RESULT null
[0-0] [WDIO] E2E test session complete
[0-0] 2026-02-08T08:56:59.965Z DEBUG @wdio/utils:shim: Finished to run "after" hook in 1ms
[0-0] 2026-02-08T08:56:59.965Z INFO webdriver: COMMAND deleteSession()
[0-0] 2026-02-08T08:56:59.965Z INFO webdriver: [DELETE] http://localhost:33963/session/4a83b0b0c86c7331ca83bbae04cebb29
[0-0] 2026-02-08T08:57:00.052Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:57:00.052Z INFO webdriver: Kill driver process with PID 37099
[0-0] 2026-02-08T08:57:00.084Z DEBUG @wdio/utils:shim: Finished to run "afterSession" hook in 31ms
2026-02-08T08:57:00.211Z DEBUG @wdio/local-runner: Runner 0-0 finished with exit code 0
[0-0] PASSED in chrome(120.0.6099.283) - file:///tests/e2e/BUG-017_gesture_shadowing.spec.ts
2026-02-08T08:57:00.212Z INFO @wdio/cli:launcher: Run onWorkerEnd hook
2026-02-08T08:57:00.213Z DEBUG @wdio/cli:utils: Finished to run "onWorkerEnd" hook in 0ms

 "obsidian" Reporter:
------------------------------------------------------------------
Running: obsidian v1.11.7 (installer: v1.5.8, platform: linux)
Session ID: 6830cb82bd357226b32dc492f469cac7

» tests/e2e/BUG-017_gesture_shadowing.spec.ts
BUG-017: Gesture Shadowing Regression
   ✓ should block touchmove events to shadow native gestures

1 passing (8.8s)


Spec Files:	 1 passed, 1 total (100% completed) in 00:00:14  

2026-02-08T08:57:00.215Z INFO @wdio/local-runner: Shutting down spawned worker
2026-02-08T08:57:00.467Z INFO @wdio/local-runner: Waiting for 0 to shut down gracefully
2026-02-08T08:57:00.467Z INFO @wdio/local-runner: shutting down
2026-02-08T08:57:00.468Z INFO @wdio/cli:launcher: Run onComplete hook
2026-02-08T08:57:00.468Z DEBUG @wdio/cli:utils: Finished to run "onComplete" hook in 0ms
