
> obsidian_plugin_for_todo_flow@1.2.41 test
> vitest run src/__tests__/StackPersistence.test.ts


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/home/ivan/obsidian_plugin_for_todo_flow[39m

3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:47:26 This reference only captures the initial value of `initialNavState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:48:15 This reference only captures the initial value of `initialTasks`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:118:40 This reference only captures the initial value of `navState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:119:35 This reference only captures the initial value of `navState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:121:34 This reference only captures the initial value of `settings`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:122:29 This reference only captures the initial value of `now`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:124:30 This reference only captures the initial value of `navState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:204:30 This reference only captures the initial value of `navState`. Did you mean to reference it inside a derived instead?
https://svelte.dev/e/state_referenced_locally
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1017:0 noninteractive element cannot have nonnegative tabIndex value
https://svelte.dev/e/a11y_no_noninteractive_tabindex
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1017:0 Non-interactive element `<div>` should not be assigned mouse or keyboard event listeners
https://svelte.dev/e/a11y_no_noninteractive_element_interactions
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1047:12 Visible, non-interactive elements with a click event must be accompanied by a keyboard event handler. Consider whether an interactive element such as `<button type="button">` or `<a>` might be more appropriate
https://svelte.dev/e/a11y_click_events_have_key_events
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1047:12 `<div>` with a click handler must have an ARIA role
https://svelte.dev/e/a11y_no_static_element_interactions
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1074:16 Visible, non-interactive elements with a click event must be accompanied by a keyboard event handler. Consider whether an interactive element such as `<button type="button">` or `<a>` might be more appropriate
https://svelte.dev/e/a11y_click_events_have_key_events
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1074:16 `<div>` with a click handler must have an ARIA role
https://svelte.dev/e/a11y_no_static_element_interactions
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1122:24 Visible, non-interactive elements with a click event must be accompanied by a keyboard event handler. Consider whether an interactive element such as `<button type="button">` or `<a>` might be more appropriate
https://svelte.dev/e/a11y_click_events_have_key_events
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1470:4 Unused CSS selector ".duration-btn.small"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1497:21 Unused CSS selector ".is-done .title-btn"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1566:4 Unused CSS selector ".is-mobile-layout .todo-flow-task-card"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1571:4 Unused CSS selector ".is-mobile-layout .title"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1578:4 Unused CSS selector ".is-mobile-layout .drag-handle"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1583:4 Unused CSS selector ".is-mobile-layout .time-col"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1589:4 Unused CSS selector ".is-mobile-layout .desktop-only-time"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1593:4 Unused CSS selector ".is-mobile-layout .mobile-only-time"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1599:4 Unused CSS selector ".is-mobile-layout .content-col"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1604:4 Unused CSS selector ".is-mobile-layout .duration"
https://svelte.dev/e/css_unused_selector
3:44:47 PM [vite-plugin-svelte] src/views/StackView.svelte:1681:4 Unused CSS selector ".todo-flow-title-input"
https://svelte.dev/e/css_unused_selector
3:44:51 PM [vite-plugin-svelte] src/components/Card.svelte:11:7 Using `<slot>` to render parent content is deprecated. Use `{@render ...}` tags instead
https://svelte.dev/e/slot_element_deprecated
3:44:51 PM [vite-plugin-svelte] src/components/Card.svelte:16:11 Using `<slot>` to render parent content is deprecated. Use `{@render ...}` tags instead
https://svelte.dev/e/slot_element_deprecated
3:44:51 PM [vite-plugin-svelte] src/views/TriageView.svelte:14:44 This reference only captures the initial value of `app`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:44:51 PM [vite-plugin-svelte] src/views/TriageView.svelte:14:49 This reference only captures the initial value of `initialTasks`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
3:44:51 PM [vite-plugin-svelte] src/views/TriageView.svelte:14:63 This reference only captures the initial value of `logger`. Did you mean to reference it inside a closure instead?
https://svelte.dev/e/state_referenced_locally
 [31m‚ùØ[39m src/__tests__/StackPersistence.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 93[2mms[22m[39m
       [32m‚úì[39m should include full NavigationManager state[32m 32[2mms[22m[39m
[31m       [31m√ó[31m should restore from navState if present (Deep Persistence)[39m[32m 36[2mms[22m[39m
       [32m‚úì[39m should fallback to standard load if no navState history[32m 16[2mms[22m[39m
       [32m‚úì[39m should delegate refresh to NavigationManager[32m 2[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 1 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/__tests__/StackPersistence.test.ts[2m > [22mStack Persistence[2m > [22msetState[2m > [22mshould restore from navState if present (Deep Persistence)
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'length')[39m
[36m [2m‚ùØ[22m StackView.setState src/views/StackView.ts:[2m178:89[22m[39m
    [90m176| [39m            this.parentTaskName = this.resolveParentName(this.rootPath‚Ä¶
    [90m177| [39m
    [90m178| [39m            if (this.logger) this.logger.info(`[StackView] Raw tasks l‚Ä¶
    [90m   | [39m                                                                                        [31m^[39m
    [90m179| [39m
    [90m180| [39m            if (this.logger) this.logger.info(`[StackView] Raw tasks l‚Ä¶
[90m [2m‚ùØ[22m src/__tests__/StackPersistence.test.ts:[2m199:13[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m3 passed[39m[22m[90m (4)[39m
[2m   Start at [22m 15:44:45
[2m   Duration [22m 7.26s[2m (transform 5.10s, setup 84ms, import 5.99s, tests 93ms, environment 624ms)[22m

