
> obsidian_plugin_for_todo_flow@1.2.10 e2e
> npm run e2e:setup && wdio run wdio.conf.mts --spec tests/e2e/journeys/mobile_triage_add.spec.ts


> obsidian_plugin_for_todo_flow@1.2.10 e2e:setup
> npx tsx tests/e2e/setup-vault.ts

Stopping existing Obsidian instances...
[E2E Setup] Initializing vault at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[E2E Setup] Existing plugins found: todo-flow
[E2E Setup] Community plugins config updated at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/community-plugins.json
[E2E Setup] Copied main.js to vault plugins.
[E2E Setup] Copied styles.css to vault plugins.
[E2E Setup] Copied manifest.json to vault plugins.
[E2E Setup] Creating vault config to trust plugins...
[E2E Setup] Vault config created at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/config.json
[E2E Setup] Creating vault app.json to disable safe mode...
[E2E Setup] Vault app.json created at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/app.json
[E2E Setup] --- Vault initialization complete ---
2026-02-07T16:04:53.043Z DEBUG @wdio/utils:initializeServices: initialize service "obsidian" as NPM package
2026-02-07T16:04:53.837Z INFO @wdio/cli:launcher: Run onPrepare hook
2026-02-07T16:04:53.872Z DEBUG @wdio/cli:utils: Finished to run "onPrepare" hook in 34ms

Execution of 1 workers started at 2026-02-07T16:04:53.877Z

2026-02-07T16:04:53.890Z INFO @wdio/cli:launcher: Run onWorkerStart hook
2026-02-07T16:04:53.891Z DEBUG @wdio/cli:utils: Finished to run "onWorkerStart" hook in 0ms
2026-02-07T16:04:53.892Z INFO @wdio/xvfb: XvfbManager.init() called
2026-02-07T16:04:53.896Z INFO @wdio/xvfb: Xvfb not needed on current platform
2026-02-07T16:04:53.901Z INFO @wdio/local-runner: Start worker 0-0 with arg: run wdio.conf.mts --spec tests/e2e/journeys/mobile_triage_add.spec.ts
2026-02-07T16:04:53.919Z INFO @wdio/xvfb:ProcessFactory: xvfb-run not found, falling back to regular fork
2026-02-07T16:04:53.920Z INFO @wdio/xvfb:ProcessFactory: ProcessFactory: shouldRun=false, isAvailable=false
2026-02-07T16:04:53.920Z INFO @wdio/xvfb:ProcessFactory: Creating worker process with regular fork
2026-02-07T16:04:53.942Z DEBUG @wdio/local-runner: Send command run to worker with cid "0-0"
[0-0] 2026-02-07T16:04:57.173Z INFO @wdio/local-runner: Run worker command: run
[0-0] 2026-02-07T16:04:57.257Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-07T16:04:57.281Z DEBUG @wdio/utils:initializeServices: initialize service "obsidian" as NPM package
[0-0] 2026-02-07T16:04:58.573Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-07T16:04:58.788Z DEBUG @wdio/utils:shim: Finished to run "beforeSession" hook in 214ms
[0-0] RUNNING in chrome(120.0.6099.283) - file:///tests/e2e/journeys/mobile_triage_add.spec.ts
[0-0] 2026-02-07T16:04:59.488Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-07T16:04:59.491Z INFO webdriver: Initiate new session using the WebDriver protocol
[0-0] 2026-02-07T16:05:00.220Z INFO chromedriver: Starting ChromeDriver 120.0.6099.283 (967a55bac315b0bcf08b09f7a9b86b318f951276-refs/heads/main@{#1232704}) on port 35227
[0-0] 2026-02-07T16:05:00.221Z INFO chromedriver: Only local connections are allowed.
[0-0] 2026-02-07T16:05:00.222Z INFO chromedriver: Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.
[0-0] 2026-02-07T16:05:00.233Z INFO chromedriver: ChromeDriver was started successfully.
[0-0] 2026-02-07T16:05:00.334Z INFO @wdio/utils: Started Chromedriver v120.0.6099.283 with params --port=35227 --binary=/home/ivan/obsidian_plugin_for_todo_flow/.obsidian-cache/electron-chromedriver/linux-x64/28.2.3/chromedriver --allowed-origins=* in 177ms on port 35227
[0-0] 2026-02-07T16:05:00.388Z INFO webdriver: [POST] http://localhost:35227/session
[0-0] 2026-02-07T16:05:01.060Z INFO chromedriver: 2026-02-07 16:05:01 Loading updated app package /tmp/obsidian-launcher-config-Sv8Uo1/obsidian-1.11.7.asar
[0-0] 2026-02-07T16:05:01.097Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-07T16:05:01.919Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-Sv8Uo1/d0474f032355d16f.json'
[0-0] 2026-02-07T16:05:02.824Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-07T16:05:02.825Z INFO webdriver: [GET] http://localhost:35227/session/7ce243685e95bfb8fb6b63fd3995b886/window
[0-0] 2026-02-07T16:05:02.844Z INFO webdriver: RESULT 3BC752B85F0FBDAA1EDB1D63F291B93D
[0-0] [WDIO] Starting E2E test session
[0-0] 2026-02-07T16:05:02.857Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:02.859Z INFO webdriver: [POST] http://localhost:35227/session/7ce243685e95bfb8fb6b63fd3995b886/execute/sync
[0-0] 2026-02-07T16:05:02.868Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:04.172Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:04.191Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:04.194Z INFO webdriver: [POST] http://localhost:35227/session/7ce243685e95bfb8fb6b63fd3995b886/execute/sync
[0-0] 2026-02-07T16:05:04.194Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:04.245Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:04.251Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:04.253Z INFO webdriver: [POST] http://localhost:35227/session/7ce243685e95bfb8fb6b63fd3995b886/execute/sync
[0-0] 2026-02-07T16:05:04.253Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:04.331Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:04.337Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:04.341Z INFO webdriver: [POST] http://localhost:35227/session/7ce243685e95bfb8fb6b63fd3995b886/execute/sync
[0-0] 2026-02-07T16:05:04.341Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:04.424Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:05:04.430Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-07T16:05:04.432Z INFO webdriver: [POST] http://localhost:35227/session/7ce243685e95bfb8fb6b63fd3995b886/execute/sync
[0-0] 2026-02-07T16:05:04.432Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-07T16:05:04.909Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:04.909Z DEBUG @wdio/utils:shim: Finished to run "before" hook in 2056ms
[0-0] 2026-02-07T16:05:05.009Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-07T16:05:05.340Z INFO webdriver: COMMAND deleteSession(<object>)
[0-0] 2026-02-07T16:05:05.343Z INFO webdriver: [DELETE] http://localhost:35227/session/7ce243685e95bfb8fb6b63fd3995b886
[0-0] 2026-02-07T16:05:05.343Z INFO webdriver: DATA {"deleteSessionOpts":{"shutdownDriver":false}}
[0-0] 2026-02-07T16:05:05.517Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:05.524Z INFO webdriver: [POST] http://localhost:35227/session
[0-0] 2026-02-07T16:05:06.172Z INFO chromedriver: 2026-02-07 16:05:06 Loading updated app package /tmp/obsidian-launcher-config-QIp2ZG/obsidian-1.11.7.asar
[0-0] 2026-02-07T16:05:06.209Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-07T16:05:07.255Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-QIp2ZG/933b9275a8d107e5.json'
[0-0] 2026-02-07T16:05:08.154Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-07T16:05:08.155Z INFO webdriver: [GET] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/window
[0-0] 2026-02-07T16:05:08.169Z INFO webdriver: RESULT AEFE0EF87E9A6E31F78CDA4E3FBE8218
[0-0] 2026-02-07T16:05:08.170Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:08.172Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:08.172Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:09.609Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:09.618Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:09.621Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:09.622Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:09.718Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:05:09.719Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-07T16:05:09.727Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:09.728Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-07T16:05:10.219Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:10.226Z INFO webdriver: COMMAND setWindowRect(null, null, 390, 844)
[0-0] 2026-02-07T16:05:10.230Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/window/rect
[0-0] 2026-02-07T16:05:10.232Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:10.267Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:10.269Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:10.269Z INFO webdriver: Retrying 1/3
[0-0] 2026-02-07T16:05:10.270Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/window/rect
[0-0] 2026-02-07T16:05:10.270Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:10.297Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:10.800Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:10.800Z INFO webdriver: Retrying 2/3
[0-0] 2026-02-07T16:05:10.800Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/window/rect
[0-0] 2026-02-07T16:05:10.800Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:10.822Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:11.823Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:11.824Z INFO webdriver: Retrying 3/3
[0-0] 2026-02-07T16:05:11.824Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/window/rect
[0-0] 2026-02-07T16:05:11.824Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:11.843Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:11.844Z ERROR webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] [WDIO] Failed to set window size, continuing with CSS emulation: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:11.847Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:11.849Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:11.850Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{document.body.classList.add(\"is-mobile\");document.body.classList.remove(\"is-desktop\");if(window.app){window.app.isMobile=true}window.dispatchEvent(new Event(\"resize\"))}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:11.909Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:11.911Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:11.914Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:11.915Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const plugin=app.plugins.plugins[\"todo-flow\"];if(plugin){plugin.settings.targetFolder=\"todo-flow\";plugin.settings.debug=true;if(plugin.logger)plugin.logger.setEnabled(true);await plugin.saveSettings()}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:11.948Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:11.963Z DEBUG @wdio/utils:shim: Finished to run "beforeTest" hook in 3ms
[0-0] [Test FEAT-001] Step 1: Creating a dump task for Triage
[0-0] 2026-02-07T16:05:11.967Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:11.969Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:11.969Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const content=`---\ntask: Triage Test Task\nstatus: todo\nduration: 30\nflow_state: dump\n---\n# Triage Test Task\n`;const adapter=app.vault.adapter;if(!await adapter.exists(\"todo-flow\")){await adapter.mkdir(\"todo-flow\")}await app.vault.create(\"todo-flow/TriageTestTask.md\",content)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:12.004Z INFO webdriver: RESULT null
[0-0] [Test FEAT-001] Step 2: Starting Triage
[0-0] 2026-02-07T16:05:12.507Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:12.508Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:12.508Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{app.commands.executeCommandById(\"todo-flow:start-triage\")}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:12.543Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:13.544Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:13.546Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:13.546Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const leaves=app.workspace.getLeavesOfType(\"todo-flow-triage-view\");if(leaves.length===0){return{exists:false,currentTask:null,taskCount:0}}const view=leaves[0].view;return{exists:true,currentTask:view.component?.currentTask?.title||null,taskCount:view.tasks?.length||0}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:13.567Z INFO webdriver: RESULT { currentTask: null, exists: true, taskCount: 1 }
[0-0] [Test FEAT-001] PROBE 0 (Post-Triage): exists=true, currentTask=null, taskCount=1
[0-0] [Test FEAT-001] Step 2: Looking for the "+" button
[0-0] 2026-02-07T16:05:13.576Z INFO webdriver: COMMAND findElement("css selector", ".plus-btn")
[0-0] 2026-02-07T16:05:13.576Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/element
[0-0] 2026-02-07T16:05:13.577Z INFO webdriver: DATA {"using":"css selector","value":".plus-btn"}
[0-0] 2026-02-07T16:05:13.616Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': 'AA299D87701874C3B7906D455EDBBDBA_element_45'
[0-0] }
[0-0] 2026-02-07T16:05:13.654Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:13.654Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:13.655Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"AA299D87701874C3B7906D455EDBBDBA_element_45","ELEMENT":"AA299D87701874C3B7906D455EDBBDBA_element_45"}]}
[0-0] 2026-02-07T16:05:13.657Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:13.658Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:13.659Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"AA299D87701874C3B7906D455EDBBDBA_element_45","ELEMENT":"AA299D87701874C3B7906D455EDBBDBA_element_45"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:05:13.683Z INFO webdriver: RESULT { value: 'flex' }
[0-0] 2026-02-07T16:05:13.698Z INFO webdriver: RESULT true
[0-0] [Test FEAT-001] Step 3: Clicking "+" button
[0-0] 2026-02-07T16:05:13.706Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:13.708Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:13.708Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (el=>el.click()).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"AA299D87701874C3B7906D455EDBBDBA_element_45","ELEMENT":"AA299D87701874C3B7906D455EDBBDBA_element_45"}]}
[0-0] 2026-02-07T16:05:13.787Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:14.790Z INFO webdriver: COMMAND findElement("css selector", ".prompt-input")
[0-0] 2026-02-07T16:05:14.793Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/element
[0-0] 2026-02-07T16:05:14.793Z INFO webdriver: DATA {"using":"css selector","value":".prompt-input"}
[0-0] 2026-02-07T16:05:14.841Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': 'AA299D87701874C3B7906D455EDBBDBA_element_48'
[0-0] }
[0-0] 2026-02-07T16:05:14.858Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:14.859Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:14.859Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"AA299D87701874C3B7906D455EDBBDBA_element_48","ELEMENT":"AA299D87701874C3B7906D455EDBBDBA_element_48"}]}
[0-0] 2026-02-07T16:05:14.867Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:14.869Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:14.869Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"AA299D87701874C3B7906D455EDBBDBA_element_48","ELEMENT":"AA299D87701874C3B7906D455EDBBDBA_element_48"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:05:14.893Z INFO webdriver: RESULT { value: 'block' }
[0-0] 2026-02-07T16:05:14.910Z INFO webdriver: RESULT true
[0-0] [Test FEAT-001] Step 4: Adding a task via modal
[0-0] 2026-02-07T16:05:14.915Z INFO webdriver: COMMAND findElement("css selector", ".prompt-input")
[0-0] 2026-02-07T16:05:14.916Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/element
[0-0] 2026-02-07T16:05:14.916Z INFO webdriver: DATA {"using":"css selector","value":".prompt-input"}
[0-0] 2026-02-07T16:05:14.929Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': 'AA299D87701874C3B7906D455EDBBDBA_element_48'
[0-0] }
[0-0] 2026-02-07T16:05:14.936Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:14.937Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:14.938Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const debugFile=\"audit.txt\";const adapter=app.vault.adapter;let leaves=[];app.workspace.iterateAllLeaves(leaf=>{leaves.push(leaf.view.getViewType())});const info=`\n[PROBE 1] Leaves: ${leaves.join(\", \")}\nAdapter: ${adapter.getName()}\nPlugin Enabled: ${app.plugins.enabledPlugins.has(\"todo-flow\")}\n`;await adapter.write(debugFile,info)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:14.974Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:14.975Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:14.975Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:14.976Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:14.999Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 1 (Pre-Type): Leaves=1
[0-0] 2026-02-07T16:05:15.003Z INFO webdriver: COMMAND elementClear("AA299D87701874C3B7906D455EDBBDBA_element_48")
[0-0] 2026-02-07T16:05:15.004Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/element/AA299D87701874C3B7906D455EDBBDBA_element_48/clear
[0-0] 2026-02-07T16:05:15.004Z INFO webdriver: DATA {}
[0-0] 2026-02-07T16:05:15.117Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:15.118Z INFO webdriver: COMMAND elementSendKeys("AA299D87701874C3B7906D455EDBBDBA_element_48", "Mobile added task")
[0-0] 2026-02-07T16:05:15.118Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/element/AA299D87701874C3B7906D455EDBBDBA_element_48/value
[0-0] 2026-02-07T16:05:15.118Z INFO webdriver: DATA {"text":"Mobile added task"}
[0-0] 2026-02-07T16:05:15.505Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:15.506Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:15.506Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:15.507Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:15.528Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 2 (Post-Type): Leaves=1
[0-0] 2026-02-07T16:05:15.529Z INFO webdriver: COMMAND findElement("css selector", ".suggestion-item")
[0-0] 2026-02-07T16:05:15.531Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/element
[0-0] 2026-02-07T16:05:15.532Z INFO webdriver: DATA {"using":"css selector","value":".suggestion-item"}
[0-0] 2026-02-07T16:05:15.572Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': 'AA299D87701874C3B7906D455EDBBDBA_element_52'
[0-0] }
[0-0] 2026-02-07T16:05:15.589Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:15.590Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:15.591Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"AA299D87701874C3B7906D455EDBBDBA_element_52","ELEMENT":"AA299D87701874C3B7906D455EDBBDBA_element_52"}]}
[0-0] 2026-02-07T16:05:15.592Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:15.597Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:15.597Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"AA299D87701874C3B7906D455EDBBDBA_element_52","ELEMENT":"AA299D87701874C3B7906D455EDBBDBA_element_52"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:05:15.633Z INFO webdriver: RESULT { value: 'block' }
[0-0] 2026-02-07T16:05:15.643Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:05:15.644Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:15.645Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:15.645Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:15.664Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 3 (Pre-Click): Leaves=1
[0-0] [Test FEAT-001] Clicking suggestion item...
[0-0] 2026-02-07T16:05:15.666Z INFO webdriver: COMMAND elementClick("AA299D87701874C3B7906D455EDBBDBA_element_52")
[0-0] 2026-02-07T16:05:15.666Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/element/AA299D87701874C3B7906D455EDBBDBA_element_52/click
[0-0] 2026-02-07T16:05:15.667Z INFO webdriver: DATA {}
[0-0] 2026-02-07T16:05:15.825Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:16.327Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:16.330Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:16.331Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:16.352Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 4 (Post-Click): Leaves=1
[0-0] 2026-02-07T16:05:16.353Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:16.357Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:16.358Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:16.386Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:05:16.386Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:05:16.386Z INFO webdriver: Retrying 1/3
[0-0] 2026-02-07T16:05:16.386Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:16.387Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:16.406Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:05:16.907Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:05:16.908Z INFO webdriver: Retrying 2/3
[0-0] 2026-02-07T16:05:16.908Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:16.908Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:16.932Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:05:17.933Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:05:17.934Z INFO webdriver: Retrying 3/3
[0-0] 2026-02-07T16:05:17.934Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:17.934Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:17.958Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:05:17.958Z ERROR webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:05:18.009Z DEBUG @wdio/utils:shim: Finished to run "afterTest" hook in 0ms
[0-0] javascript error in "Mobile Triage Addition (FEAT-001).should allow adding tasks via a floating "+" button on mobile triage"
javascript error: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
    at async Context.<anonymous> (/home/ivan/obsidian_plugin_for_todo_flow/tests/e2e/journeys/mobile_triage_add.spec.ts:134:29)
[0-0] 2026-02-07T16:05:18.028Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:18.029Z INFO webdriver: [POST] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e/execute/sync
[0-0] 2026-02-07T16:05:18.029Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const adapter=app.vault.adapter;const todoFlowDir=\"todo-flow\";if(await adapter.exists(todoFlowDir)){const listing=await adapter.list(todoFlowDir);for(const file of listing.files){try{await adapter.remove(file)}catch(e){console.warn(`Failed to remove ${file}:`,e)}}}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:18.071Z INFO webdriver: RESULT null
[0-0] [WDIO] E2E test session complete
[0-0] 2026-02-07T16:05:18.079Z DEBUG @wdio/utils:shim: Finished to run "after" hook in 1ms
[0-0] 2026-02-07T16:05:18.081Z INFO webdriver: COMMAND deleteSession()
[0-0] 2026-02-07T16:05:18.082Z INFO webdriver: [DELETE] http://localhost:35227/session/fb332930734d639879fd07fac2f0458e
[0-0] 2026-02-07T16:05:18.282Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:18.286Z INFO webdriver: Kill driver process with PID 352894
[0-0] 2026-02-07T16:05:18.374Z DEBUG @wdio/utils:shim: Finished to run "afterSession" hook in 85ms
2026-02-07T16:05:18.560Z DEBUG @wdio/local-runner: Runner 0-0 finished with exit code 1
[0-0] RETRYING in chrome(120.0.6099.283) - file:///tests/e2e/journeys/mobile_triage_add.spec.ts
2026-02-07T16:05:18.566Z INFO @wdio/cli:launcher: Run onWorkerEnd hook
2026-02-07T16:05:18.569Z DEBUG @wdio/cli:utils: Finished to run "onWorkerEnd" hook in 0ms
2026-02-07T16:05:18.571Z INFO @wdio/cli:launcher: Run onWorkerStart hook
2026-02-07T16:05:18.572Z DEBUG @wdio/cli:utils: Finished to run "onWorkerStart" hook in 0ms
2026-02-07T16:05:18.575Z INFO @wdio/local-runner: Start worker 0-0 with arg: run wdio.conf.mts --spec tests/e2e/journeys/mobile_triage_add.spec.ts
2026-02-07T16:05:18.590Z INFO @wdio/xvfb:ProcessFactory: xvfb-run not found, falling back to regular fork
2026-02-07T16:05:18.591Z INFO @wdio/xvfb:ProcessFactory: ProcessFactory: shouldRun=false, isAvailable=false
2026-02-07T16:05:18.591Z INFO @wdio/xvfb:ProcessFactory: Creating worker process with regular fork
2026-02-07T16:05:18.611Z DEBUG @wdio/local-runner: Send command run to worker with cid "0-0"
[0-0] 2026-02-07T16:05:23.208Z INFO @wdio/local-runner: Run worker command: run
[0-0] 2026-02-07T16:05:23.275Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-07T16:05:23.304Z DEBUG @wdio/utils:initializeServices: initialize service "obsidian" as NPM package
[0-0] 2026-02-07T16:05:24.507Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-07T16:05:24.658Z DEBUG @wdio/utils:shim: Finished to run "beforeSession" hook in 150ms
[0-0] RUNNING in chrome(120.0.6099.283) - file:///tests/e2e/journeys/mobile_triage_add.spec.ts
[0-0] 2026-02-07T16:05:25.131Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-07T16:05:25.139Z INFO webdriver: Initiate new session using the WebDriver protocol
[0-0] 2026-02-07T16:05:25.821Z INFO chromedriver: Starting ChromeDriver 120.0.6099.283 (967a55bac315b0bcf08b09f7a9b86b318f951276-refs/heads/main@{#1232704}) on port 35421
[0-0] 2026-02-07T16:05:25.821Z INFO chromedriver: Only local connections are allowed.
[0-0] 2026-02-07T16:05:25.822Z INFO chromedriver: Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.
[0-0] 2026-02-07T16:05:25.823Z INFO chromedriver: ChromeDriver was started successfully.
[0-0] 2026-02-07T16:05:25.825Z INFO @wdio/utils: Started Chromedriver v120.0.6099.283 with params --port=35421 --binary=/home/ivan/obsidian_plugin_for_todo_flow/.obsidian-cache/electron-chromedriver/linux-x64/28.2.3/chromedriver --allowed-origins=* in 60ms on port 35421
[0-0] 2026-02-07T16:05:25.900Z INFO webdriver: [POST] http://localhost:35421/session
[0-0] 2026-02-07T16:05:26.452Z INFO chromedriver: 2026-02-07 16:05:26 Loading updated app package /tmp/obsidian-launcher-config-JYyhLW/obsidian-1.11.7.asar
[0-0] 2026-02-07T16:05:26.476Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-07T16:05:27.287Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-JYyhLW/e3a221961f9105fd.json'
[0-0] 2026-02-07T16:05:28.003Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-07T16:05:28.004Z INFO webdriver: [GET] http://localhost:35421/session/0b0a5d869b55bf8acd935d247f01da04/window
[0-0] 2026-02-07T16:05:28.022Z INFO webdriver: RESULT D97D74F4BDA94AF41D8E9744A462AF10
[0-0] [WDIO] Starting E2E test session
[0-0] 2026-02-07T16:05:28.037Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:28.039Z INFO webdriver: [POST] http://localhost:35421/session/0b0a5d869b55bf8acd935d247f01da04/execute/sync
[0-0] 2026-02-07T16:05:28.040Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:29.193Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:29.205Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:29.206Z INFO webdriver: [POST] http://localhost:35421/session/0b0a5d869b55bf8acd935d247f01da04/execute/sync
[0-0] 2026-02-07T16:05:29.212Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:29.322Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:29.327Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:29.342Z INFO webdriver: [POST] http://localhost:35421/session/0b0a5d869b55bf8acd935d247f01da04/execute/sync
[0-0] 2026-02-07T16:05:29.343Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:29.427Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:29.442Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:29.452Z INFO webdriver: [POST] http://localhost:35421/session/0b0a5d869b55bf8acd935d247f01da04/execute/sync
[0-0] 2026-02-07T16:05:29.452Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:29.523Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:05:29.525Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-07T16:05:29.527Z INFO webdriver: [POST] http://localhost:35421/session/0b0a5d869b55bf8acd935d247f01da04/execute/sync
[0-0] 2026-02-07T16:05:29.527Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-07T16:05:29.938Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:29.938Z DEBUG @wdio/utils:shim: Finished to run "before" hook in 1912ms
[0-0] 2026-02-07T16:05:29.969Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-07T16:05:30.054Z INFO webdriver: COMMAND deleteSession(<object>)
[0-0] 2026-02-07T16:05:30.056Z INFO webdriver: [DELETE] http://localhost:35421/session/0b0a5d869b55bf8acd935d247f01da04
[0-0] 2026-02-07T16:05:30.058Z INFO webdriver: DATA {"deleteSessionOpts":{"shutdownDriver":false}}
[0-0] 2026-02-07T16:05:30.252Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:30.260Z INFO webdriver: [POST] http://localhost:35421/session
[0-0] 2026-02-07T16:05:30.819Z INFO chromedriver: 2026-02-07 16:05:30 Loading updated app package /tmp/obsidian-launcher-config-AAWOBI/obsidian-1.11.7.asar
[0-0] 2026-02-07T16:05:30.847Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-07T16:05:31.671Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-AAWOBI/beba083d9244063c.json'
[0-0] 2026-02-07T16:05:32.410Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-07T16:05:32.410Z INFO webdriver: [GET] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/window
[0-0] 2026-02-07T16:05:32.427Z INFO webdriver: RESULT 56BAEFBB7CDD450C149C00341256A4A1
[0-0] 2026-02-07T16:05:32.427Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:32.430Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:32.431Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:33.668Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:33.669Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:33.671Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:33.672Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:33.830Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:33.833Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:33.835Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:33.835Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:33.919Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:05:33.923Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-07T16:05:33.924Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:33.924Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-07T16:05:34.373Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:34.375Z INFO webdriver: COMMAND setWindowRect(null, null, 390, 844)
[0-0] 2026-02-07T16:05:34.376Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/window/rect
[0-0] 2026-02-07T16:05:34.377Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:34.408Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:34.411Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:34.413Z INFO webdriver: Retrying 1/3
[0-0] 2026-02-07T16:05:34.414Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/window/rect
[0-0] 2026-02-07T16:05:34.414Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:34.453Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:34.954Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:34.955Z INFO webdriver: Retrying 2/3
[0-0] 2026-02-07T16:05:34.955Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/window/rect
[0-0] 2026-02-07T16:05:34.955Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:34.968Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:35.970Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:35.971Z INFO webdriver: Retrying 3/3
[0-0] 2026-02-07T16:05:35.971Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/window/rect
[0-0] 2026-02-07T16:05:35.971Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:35.983Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:35.983Z ERROR webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] [WDIO] Failed to set window size, continuing with CSS emulation: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:35.985Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:35.986Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:35.986Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{document.body.classList.add(\"is-mobile\");document.body.classList.remove(\"is-desktop\");if(window.app){window.app.isMobile=true}window.dispatchEvent(new Event(\"resize\"))}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:36.043Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:36.044Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:36.048Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:36.049Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const plugin=app.plugins.plugins[\"todo-flow\"];if(plugin){plugin.settings.targetFolder=\"todo-flow\";plugin.settings.debug=true;if(plugin.logger)plugin.logger.setEnabled(true);await plugin.saveSettings()}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:36.109Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:36.127Z DEBUG @wdio/utils:shim: Finished to run "beforeTest" hook in 1ms
[0-0] [Test FEAT-001] Step 1: Creating a dump task for Triage
[0-0] 2026-02-07T16:05:36.131Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:36.132Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:36.133Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const content=`---\ntask: Triage Test Task\nstatus: todo\nduration: 30\nflow_state: dump\n---\n# Triage Test Task\n`;const adapter=app.vault.adapter;if(!await adapter.exists(\"todo-flow\")){await adapter.mkdir(\"todo-flow\")}await app.vault.create(\"todo-flow/TriageTestTask.md\",content)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:36.177Z INFO webdriver: RESULT null
[0-0] [Test FEAT-001] Step 2: Starting Triage
[0-0] 2026-02-07T16:05:36.686Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:36.687Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:36.687Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{app.commands.executeCommandById(\"todo-flow:start-triage\")}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:36.704Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:37.705Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:37.706Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:37.706Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const leaves=app.workspace.getLeavesOfType(\"todo-flow-triage-view\");if(leaves.length===0){return{exists:false,currentTask:null,taskCount:0}}const view=leaves[0].view;return{exists:true,currentTask:view.component?.currentTask?.title||null,taskCount:view.tasks?.length||0}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:37.720Z INFO webdriver: RESULT { currentTask: null, exists: true, taskCount: 1 }
[0-0] [Test FEAT-001] PROBE 0 (Post-Triage): exists=true, currentTask=null, taskCount=1
[0-0] [Test FEAT-001] Step 2: Looking for the "+" button
[0-0] 2026-02-07T16:05:37.730Z INFO webdriver: COMMAND findElement("css selector", ".plus-btn")
[0-0] 2026-02-07T16:05:37.732Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/element
[0-0] 2026-02-07T16:05:37.732Z INFO webdriver: DATA {"using":"css selector","value":".plus-btn"}
[0-0] 2026-02-07T16:05:37.760Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '2BE4A046535473A026D9EB065780B0E4_element_45'
[0-0] }
[0-0] 2026-02-07T16:05:37.794Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:37.794Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:37.795Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"2BE4A046535473A026D9EB065780B0E4_element_45","ELEMENT":"2BE4A046535473A026D9EB065780B0E4_element_45"}]}
[0-0] 2026-02-07T16:05:37.799Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:37.801Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:37.801Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"2BE4A046535473A026D9EB065780B0E4_element_45","ELEMENT":"2BE4A046535473A026D9EB065780B0E4_element_45"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:05:37.825Z INFO webdriver: RESULT { value: 'flex' }
[0-0] 2026-02-07T16:05:37.841Z INFO webdriver: RESULT true
[0-0] [Test FEAT-001] Step 3: Clicking "+" button
[0-0] 2026-02-07T16:05:37.844Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:37.846Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:37.847Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (el=>el.click()).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"2BE4A046535473A026D9EB065780B0E4_element_45","ELEMENT":"2BE4A046535473A026D9EB065780B0E4_element_45"}]}
[0-0] 2026-02-07T16:05:37.907Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:38.909Z INFO webdriver: COMMAND findElement("css selector", ".prompt-input")
[0-0] 2026-02-07T16:05:38.910Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/element
[0-0] 2026-02-07T16:05:38.910Z INFO webdriver: DATA {"using":"css selector","value":".prompt-input"}
[0-0] 2026-02-07T16:05:38.942Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '2BE4A046535473A026D9EB065780B0E4_element_48'
[0-0] }
[0-0] 2026-02-07T16:05:38.957Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:38.958Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:38.959Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"2BE4A046535473A026D9EB065780B0E4_element_48","ELEMENT":"2BE4A046535473A026D9EB065780B0E4_element_48"}]}
[0-0] 2026-02-07T16:05:38.961Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:38.964Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:38.965Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"2BE4A046535473A026D9EB065780B0E4_element_48","ELEMENT":"2BE4A046535473A026D9EB065780B0E4_element_48"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:05:38.988Z INFO webdriver: RESULT { value: 'block' }
[0-0] 2026-02-07T16:05:39.003Z INFO webdriver: RESULT true
[0-0] [Test FEAT-001] Step 4: Adding a task via modal
[0-0] 2026-02-07T16:05:39.005Z INFO webdriver: COMMAND findElement("css selector", ".prompt-input")
[0-0] 2026-02-07T16:05:39.006Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/element
[0-0] 2026-02-07T16:05:39.006Z INFO webdriver: DATA {"using":"css selector","value":".prompt-input"}
[0-0] 2026-02-07T16:05:39.031Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '2BE4A046535473A026D9EB065780B0E4_element_48'
[0-0] }
[0-0] 2026-02-07T16:05:39.037Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:39.038Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:39.038Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const debugFile=\"audit.txt\";const adapter=app.vault.adapter;let leaves=[];app.workspace.iterateAllLeaves(leaf=>{leaves.push(leaf.view.getViewType())});const info=`\n[PROBE 1] Leaves: ${leaves.join(\", \")}\nAdapter: ${adapter.getName()}\nPlugin Enabled: ${app.plugins.enabledPlugins.has(\"todo-flow\")}\n`;await adapter.write(debugFile,info)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:39.056Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:39.056Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:39.057Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:39.057Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:39.074Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 1 (Pre-Type): Leaves=1
[0-0] 2026-02-07T16:05:39.077Z INFO webdriver: COMMAND elementClear("2BE4A046535473A026D9EB065780B0E4_element_48")
[0-0] 2026-02-07T16:05:39.081Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/element/2BE4A046535473A026D9EB065780B0E4_element_48/clear
[0-0] 2026-02-07T16:05:39.081Z INFO webdriver: DATA {}
[0-0] 2026-02-07T16:05:39.175Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:39.177Z INFO webdriver: COMMAND elementSendKeys("2BE4A046535473A026D9EB065780B0E4_element_48", "Mobile added task")
[0-0] 2026-02-07T16:05:39.177Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/element/2BE4A046535473A026D9EB065780B0E4_element_48/value
[0-0] 2026-02-07T16:05:39.178Z INFO webdriver: DATA {"text":"Mobile added task"}
[0-0] 2026-02-07T16:05:39.492Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:39.494Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:39.494Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:39.495Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:39.524Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 2 (Post-Type): Leaves=1
[0-0] 2026-02-07T16:05:39.525Z INFO webdriver: COMMAND findElement("css selector", ".suggestion-item")
[0-0] 2026-02-07T16:05:39.527Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/element
[0-0] 2026-02-07T16:05:39.527Z INFO webdriver: DATA {"using":"css selector","value":".suggestion-item"}
[0-0] 2026-02-07T16:05:39.584Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '2BE4A046535473A026D9EB065780B0E4_element_52'
[0-0] }
[0-0] 2026-02-07T16:05:39.590Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:39.590Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:39.590Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"2BE4A046535473A026D9EB065780B0E4_element_52","ELEMENT":"2BE4A046535473A026D9EB065780B0E4_element_52"}]}
[0-0] 2026-02-07T16:05:39.600Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:39.603Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:39.603Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"2BE4A046535473A026D9EB065780B0E4_element_52","ELEMENT":"2BE4A046535473A026D9EB065780B0E4_element_52"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:05:39.635Z INFO webdriver: RESULT { value: 'block' }
[0-0] 2026-02-07T16:05:39.651Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:05:39.653Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:39.654Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:39.654Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:39.671Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 3 (Pre-Click): Leaves=1
[0-0] [Test FEAT-001] Clicking suggestion item...
[0-0] 2026-02-07T16:05:39.672Z INFO webdriver: COMMAND elementClick("2BE4A046535473A026D9EB065780B0E4_element_52")
[0-0] 2026-02-07T16:05:39.673Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/element/2BE4A046535473A026D9EB065780B0E4_element_52/click
[0-0] 2026-02-07T16:05:39.673Z INFO webdriver: DATA {}
[0-0] 2026-02-07T16:05:39.792Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:40.302Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:40.303Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:40.304Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:40.316Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 4 (Post-Click): Leaves=1
[0-0] 2026-02-07T16:05:40.317Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:40.317Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:40.317Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:40.341Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:05:40.342Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:05:40.342Z INFO webdriver: Retrying 1/3
[0-0] 2026-02-07T16:05:40.342Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:40.343Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:40.369Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:05:40.870Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:05:40.870Z INFO webdriver: Retrying 2/3
[0-0] 2026-02-07T16:05:40.870Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:40.871Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:40.890Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:05:41.891Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:05:41.891Z INFO webdriver: Retrying 3/3
[0-0] 2026-02-07T16:05:41.892Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:41.892Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:41.911Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:05:41.911Z ERROR webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:05:41.953Z DEBUG @wdio/utils:shim: Finished to run "afterTest" hook in 0ms
[0-0] javascript error in "Mobile Triage Addition (FEAT-001).should allow adding tasks via a floating "+" button on mobile triage"
javascript error: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
    at async Context.<anonymous> (/home/ivan/obsidian_plugin_for_todo_flow/tests/e2e/journeys/mobile_triage_add.spec.ts:134:29)
[0-0] 2026-02-07T16:05:41.958Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:41.959Z INFO webdriver: [POST] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a/execute/sync
[0-0] 2026-02-07T16:05:41.959Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const adapter=app.vault.adapter;const todoFlowDir=\"todo-flow\";if(await adapter.exists(todoFlowDir)){const listing=await adapter.list(todoFlowDir);for(const file of listing.files){try{await adapter.remove(file)}catch(e){console.warn(`Failed to remove ${file}:`,e)}}}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:41.995Z INFO webdriver: RESULT null
[0-0] [WDIO] E2E test session complete
[0-0] 2026-02-07T16:05:42.007Z DEBUG @wdio/utils:shim: Finished to run "after" hook in 1ms
[0-0] 2026-02-07T16:05:42.009Z INFO webdriver: COMMAND deleteSession()
[0-0] 2026-02-07T16:05:42.010Z INFO webdriver: [DELETE] http://localhost:35421/session/d2c00199de444c7d65343aacc462824a
[0-0] 2026-02-07T16:05:42.200Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:42.202Z INFO webdriver: Kill driver process with PID 353442
[0-0] 2026-02-07T16:05:42.275Z DEBUG @wdio/utils:shim: Finished to run "afterSession" hook in 72ms
2026-02-07T16:05:42.434Z DEBUG @wdio/local-runner: Runner 0-0 finished with exit code 1
[0-0] RETRYING in chrome(120.0.6099.283) - file:///tests/e2e/journeys/mobile_triage_add.spec.ts (1 retries)
2026-02-07T16:05:42.436Z INFO @wdio/cli:launcher: Run onWorkerEnd hook
2026-02-07T16:05:42.436Z DEBUG @wdio/cli:utils: Finished to run "onWorkerEnd" hook in 0ms
2026-02-07T16:05:42.438Z INFO @wdio/cli:launcher: Run onWorkerStart hook
2026-02-07T16:05:42.438Z DEBUG @wdio/cli:utils: Finished to run "onWorkerStart" hook in 0ms
2026-02-07T16:05:42.439Z INFO @wdio/local-runner: Start worker 0-0 with arg: run wdio.conf.mts --spec tests/e2e/journeys/mobile_triage_add.spec.ts
2026-02-07T16:05:42.451Z INFO @wdio/xvfb:ProcessFactory: xvfb-run not found, falling back to regular fork
2026-02-07T16:05:42.451Z INFO @wdio/xvfb:ProcessFactory: ProcessFactory: shouldRun=false, isAvailable=false
2026-02-07T16:05:42.451Z INFO @wdio/xvfb:ProcessFactory: Creating worker process with regular fork
2026-02-07T16:05:42.458Z DEBUG @wdio/local-runner: Send command run to worker with cid "0-0"
[0-0] 2026-02-07T16:05:46.243Z INFO @wdio/local-runner: Run worker command: run
[0-0] 2026-02-07T16:05:46.310Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-07T16:05:46.332Z DEBUG @wdio/utils:initializeServices: initialize service "obsidian" as NPM package
[0-0] 2026-02-07T16:05:47.444Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-07T16:05:47.607Z DEBUG @wdio/utils:shim: Finished to run "beforeSession" hook in 162ms
[0-0] RUNNING in chrome(120.0.6099.283) - file:///tests/e2e/journeys/mobile_triage_add.spec.ts
[0-0] 2026-02-07T16:05:48.024Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-07T16:05:48.028Z INFO webdriver: Initiate new session using the WebDriver protocol
[0-0] 2026-02-07T16:05:48.725Z INFO chromedriver: Starting ChromeDriver 120.0.6099.283 (967a55bac315b0bcf08b09f7a9b86b318f951276-refs/heads/main@{#1232704}) on port 36287
[0-0] 2026-02-07T16:05:48.725Z INFO chromedriver: Only local connections are allowed.
[0-0] 2026-02-07T16:05:48.726Z INFO chromedriver: Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.
[0-0] 2026-02-07T16:05:48.726Z INFO chromedriver: ChromeDriver was started successfully.
[0-0] 2026-02-07T16:05:48.728Z INFO @wdio/utils: Started Chromedriver v120.0.6099.283 with params --port=36287 --binary=/home/ivan/obsidian_plugin_for_todo_flow/.obsidian-cache/electron-chromedriver/linux-x64/28.2.3/chromedriver --allowed-origins=* in 71ms on port 36287
[0-0] 2026-02-07T16:05:48.799Z INFO webdriver: [POST] http://localhost:36287/session
[0-0] 2026-02-07T16:05:49.322Z INFO chromedriver: 2026-02-07 16:05:49 Loading updated app package /tmp/obsidian-launcher-config-e06QK7/obsidian-1.11.7.asar
[0-0] 2026-02-07T16:05:49.357Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-07T16:05:50.808Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-e06QK7/7b0832bb70b65be6.json'
[0-0] 2026-02-07T16:05:51.700Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-07T16:05:51.701Z INFO webdriver: [GET] http://localhost:36287/session/66188c22ef80dbdefed3607054888511/window
[0-0] 2026-02-07T16:05:51.719Z INFO webdriver: RESULT 5712C1A9397B021E1877B970A8821B2F
[0-0] [WDIO] Starting E2E test session
[0-0] 2026-02-07T16:05:51.725Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:51.726Z INFO webdriver: [POST] http://localhost:36287/session/66188c22ef80dbdefed3607054888511/execute/sync
[0-0] 2026-02-07T16:05:51.727Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:53.095Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:53.112Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:53.113Z INFO webdriver: [POST] http://localhost:36287/session/66188c22ef80dbdefed3607054888511/execute/sync
[0-0] 2026-02-07T16:05:53.113Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:53.162Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:53.172Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:53.175Z INFO webdriver: [POST] http://localhost:36287/session/66188c22ef80dbdefed3607054888511/execute/sync
[0-0] 2026-02-07T16:05:53.175Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:53.277Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:53.291Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:53.303Z INFO webdriver: [POST] http://localhost:36287/session/66188c22ef80dbdefed3607054888511/execute/sync
[0-0] 2026-02-07T16:05:53.307Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:53.424Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:05:53.429Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-07T16:05:53.431Z INFO webdriver: [POST] http://localhost:36287/session/66188c22ef80dbdefed3607054888511/execute/sync
[0-0] 2026-02-07T16:05:53.431Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-07T16:05:54.106Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:54.107Z DEBUG @wdio/utils:shim: Finished to run "before" hook in 2385ms
[0-0] 2026-02-07T16:05:54.168Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-07T16:05:54.361Z INFO webdriver: COMMAND deleteSession(<object>)
[0-0] 2026-02-07T16:05:54.362Z INFO webdriver: [DELETE] http://localhost:36287/session/66188c22ef80dbdefed3607054888511
[0-0] 2026-02-07T16:05:54.362Z INFO webdriver: DATA {"deleteSessionOpts":{"shutdownDriver":false}}
[0-0] 2026-02-07T16:05:54.544Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:54.559Z INFO webdriver: [POST] http://localhost:36287/session
[0-0] 2026-02-07T16:05:55.222Z INFO chromedriver: 2026-02-07 16:05:55 Loading updated app package /tmp/obsidian-launcher-config-nEgZR1/obsidian-1.11.7.asar
[0-0] 2026-02-07T16:05:55.255Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-07T16:05:56.063Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-nEgZR1/c3d2325cdf4e061a.json'
[0-0] 2026-02-07T16:05:56.681Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-07T16:05:56.684Z INFO webdriver: [GET] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/window
[0-0] 2026-02-07T16:05:56.695Z INFO webdriver: RESULT 99EBBEDCE3A5F25FB6E16637F9EAF5D6
[0-0] 2026-02-07T16:05:56.702Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:56.705Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:05:56.705Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:57.589Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:57.599Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:57.607Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:05:57.609Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:57.704Z INFO webdriver: RESULT false
[0-0] 2026-02-07T16:05:57.707Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:57.709Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:05:57.710Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:57.794Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:05:57.803Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-07T16:05:57.811Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:05:57.815Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-07T16:05:58.100Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:58.101Z INFO webdriver: COMMAND setWindowRect(null, null, 390, 844)
[0-0] 2026-02-07T16:05:58.102Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/window/rect
[0-0] 2026-02-07T16:05:58.102Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:58.133Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:58.136Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:58.136Z INFO webdriver: Retrying 1/3
[0-0] 2026-02-07T16:05:58.137Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/window/rect
[0-0] 2026-02-07T16:05:58.137Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:58.225Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:58.728Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:58.728Z INFO webdriver: Retrying 2/3
[0-0] 2026-02-07T16:05:58.728Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/window/rect
[0-0] 2026-02-07T16:05:58.729Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:58.741Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:59.743Z WARN webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:59.743Z INFO webdriver: Retrying 3/3
[0-0] 2026-02-07T16:05:59.744Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/window/rect
[0-0] 2026-02-07T16:05:59.744Z INFO webdriver: DATA {"x":null,"y":null,"width":390,"height":844}
[0-0] 2026-02-07T16:05:59.778Z DEBUG webdriver: request failed due to response error: unknown command
[0-0] 2026-02-07T16:05:59.778Z ERROR webdriver: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] [WDIO] Failed to set window size, continuing with CSS emulation: WebDriverError: unknown command: 'Browser.getWindowForTarget' wasn't found
[0-0]   (Session info: chrome=120.0.6099.283) when running "window/rect" with method "POST"
[0-0] 2026-02-07T16:05:59.781Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:59.782Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:05:59.782Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{document.body.classList.add(\"is-mobile\");document.body.classList.remove(\"is-desktop\");if(window.app){window.app.isMobile=true}window.dispatchEvent(new Event(\"resize\"))}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:59.861Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:59.861Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:59.862Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:05:59.862Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const plugin=app.plugins.plugins[\"todo-flow\"];if(plugin){plugin.settings.targetFolder=\"todo-flow\";plugin.settings.debug=true;if(plugin.logger)plugin.logger.setEnabled(true);await plugin.saveSettings()}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:59.894Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:05:59.912Z DEBUG @wdio/utils:shim: Finished to run "beforeTest" hook in 1ms
[0-0] [Test FEAT-001] Step 1: Creating a dump task for Triage
[0-0] 2026-02-07T16:05:59.920Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:05:59.922Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:05:59.922Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const content=`---\ntask: Triage Test Task\nstatus: todo\nduration: 30\nflow_state: dump\n---\n# Triage Test Task\n`;const adapter=app.vault.adapter;if(!await adapter.exists(\"todo-flow\")){await adapter.mkdir(\"todo-flow\")}await app.vault.create(\"todo-flow/TriageTestTask.md\",content)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:05:59.945Z INFO webdriver: RESULT null
[0-0] [Test FEAT-001] Step 2: Starting Triage
[0-0] 2026-02-07T16:06:00.451Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:00.452Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:00.453Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{app.commands.executeCommandById(\"todo-flow:start-triage\")}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:00.483Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:06:01.486Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:01.488Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:01.489Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const leaves=app.workspace.getLeavesOfType(\"todo-flow-triage-view\");if(leaves.length===0){return{exists:false,currentTask:null,taskCount:0}}const view=leaves[0].view;return{exists:true,currentTask:view.component?.currentTask?.title||null,taskCount:view.tasks?.length||0}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:01.501Z INFO webdriver: RESULT { currentTask: null, exists: true, taskCount: 1 }
[0-0] [Test FEAT-001] PROBE 0 (Post-Triage): exists=true, currentTask=null, taskCount=1
[0-0] [Test FEAT-001] Step 2: Looking for the "+" button
[0-0] 2026-02-07T16:06:01.511Z INFO webdriver: COMMAND findElement("css selector", ".plus-btn")
[0-0] 2026-02-07T16:06:01.512Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/element
[0-0] 2026-02-07T16:06:01.512Z INFO webdriver: DATA {"using":"css selector","value":".plus-btn"}
[0-0] 2026-02-07T16:06:01.544Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '4B592F5BE33D570800ED9D882FC849AD_element_45'
[0-0] }
[0-0] 2026-02-07T16:06:01.573Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:01.574Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:01.575Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"4B592F5BE33D570800ED9D882FC849AD_element_45","ELEMENT":"4B592F5BE33D570800ED9D882FC849AD_element_45"}]}
[0-0] 2026-02-07T16:06:01.582Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:01.584Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:01.585Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"4B592F5BE33D570800ED9D882FC849AD_element_45","ELEMENT":"4B592F5BE33D570800ED9D882FC849AD_element_45"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:06:01.609Z INFO webdriver: RESULT { value: 'flex' }
[0-0] 2026-02-07T16:06:01.626Z INFO webdriver: RESULT true
[0-0] [Test FEAT-001] Step 3: Clicking "+" button
[0-0] 2026-02-07T16:06:01.641Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:01.642Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:01.642Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (el=>el.click()).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"4B592F5BE33D570800ED9D882FC849AD_element_45","ELEMENT":"4B592F5BE33D570800ED9D882FC849AD_element_45"}]}
[0-0] 2026-02-07T16:06:01.710Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:06:02.712Z INFO webdriver: COMMAND findElement("css selector", ".prompt-input")
[0-0] 2026-02-07T16:06:02.715Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/element
[0-0] 2026-02-07T16:06:02.716Z INFO webdriver: DATA {"using":"css selector","value":".prompt-input"}
[0-0] 2026-02-07T16:06:02.747Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '4B592F5BE33D570800ED9D882FC849AD_element_48'
[0-0] }
[0-0] 2026-02-07T16:06:02.758Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:02.759Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:02.760Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"4B592F5BE33D570800ED9D882FC849AD_element_48","ELEMENT":"4B592F5BE33D570800ED9D882FC849AD_element_48"}]}
[0-0] 2026-02-07T16:06:02.766Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:02.769Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:02.769Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"4B592F5BE33D570800ED9D882FC849AD_element_48","ELEMENT":"4B592F5BE33D570800ED9D882FC849AD_element_48"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:06:02.787Z INFO webdriver: RESULT { value: 'block' }
[0-0] 2026-02-07T16:06:02.801Z INFO webdriver: RESULT true
[0-0] [Test FEAT-001] Step 4: Adding a task via modal
[0-0] 2026-02-07T16:06:02.805Z INFO webdriver: COMMAND findElement("css selector", ".prompt-input")
[0-0] 2026-02-07T16:06:02.806Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/element
[0-0] 2026-02-07T16:06:02.806Z INFO webdriver: DATA {"using":"css selector","value":".prompt-input"}
[0-0] 2026-02-07T16:06:02.826Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '4B592F5BE33D570800ED9D882FC849AD_element_48'
[0-0] }
[0-0] 2026-02-07T16:06:02.840Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:02.840Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:02.840Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const debugFile=\"audit.txt\";const adapter=app.vault.adapter;let leaves=[];app.workspace.iterateAllLeaves(leaf=>{leaves.push(leaf.view.getViewType())});const info=`\n[PROBE 1] Leaves: ${leaves.join(\", \")}\nAdapter: ${adapter.getName()}\nPlugin Enabled: ${app.plugins.enabledPlugins.has(\"todo-flow\")}\n`;await adapter.write(debugFile,info)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:02.872Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:06:02.873Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:02.873Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:02.874Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:02.896Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 1 (Pre-Type): Leaves=1
[0-0] 2026-02-07T16:06:02.901Z INFO webdriver: COMMAND elementClear("4B592F5BE33D570800ED9D882FC849AD_element_48")
[0-0] 2026-02-07T16:06:02.902Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/element/4B592F5BE33D570800ED9D882FC849AD_element_48/clear
[0-0] 2026-02-07T16:06:02.903Z INFO webdriver: DATA {}
[0-0] 2026-02-07T16:06:03.011Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:06:03.013Z INFO webdriver: COMMAND elementSendKeys("4B592F5BE33D570800ED9D882FC849AD_element_48", "Mobile added task")
[0-0] 2026-02-07T16:06:03.015Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/element/4B592F5BE33D570800ED9D882FC849AD_element_48/value
[0-0] 2026-02-07T16:06:03.016Z INFO webdriver: DATA {"text":"Mobile added task"}
[0-0] 2026-02-07T16:06:03.322Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:06:03.323Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:03.324Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:03.325Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:03.342Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 2 (Post-Type): Leaves=1
[0-0] 2026-02-07T16:06:03.344Z INFO webdriver: COMMAND findElement("css selector", ".suggestion-item")
[0-0] 2026-02-07T16:06:03.345Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/element
[0-0] 2026-02-07T16:06:03.345Z INFO webdriver: DATA {"using":"css selector","value":".suggestion-item"}
[0-0] 2026-02-07T16:06:03.385Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '4B592F5BE33D570800ED9D882FC849AD_element_52'
[0-0] }
[0-0] 2026-02-07T16:06:03.394Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:03.395Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:03.396Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function(elem) {\n      try {\n        const style = window.getComputedStyle(elem);\n        return { value: style?.display ?? \"\" };\n      } catch {\n        if (typeof elem.isConnected === \"boolean\" && !elem.isConnected) {\n          throw new Error(\"stale element reference: element is not attached to the page document\");\n        }\n        return { value: \"\" };\n      }\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"4B592F5BE33D570800ED9D882FC849AD_element_52","ELEMENT":"4B592F5BE33D570800ED9D882FC849AD_element_52"}]}
[0-0] 2026-02-07T16:06:03.401Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:03.404Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:03.404Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (function checkVisibility(elem, params) {\n      if (typeof elem.checkVisibility === \"function\") {\n        return elem.checkVisibility(params);\n      }\n      return null;\n    }).apply(null, arguments)\n        ","args":[{"element-6066-11e4-a52e-4f735466cecf":"4B592F5BE33D570800ED9D882FC849AD_element_52","ELEMENT":"4B592F5BE33D570800ED9D882FC849AD_element_52"},{"withinViewport":false,"contentVisibilityAuto":true,"opacityProperty":true,"visibilityProperty":true}]}
[0-0] 2026-02-07T16:06:03.427Z INFO webdriver: RESULT { value: 'block' }
[0-0] 2026-02-07T16:06:03.443Z INFO webdriver: RESULT true
[0-0] 2026-02-07T16:06:03.444Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:03.445Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:03.449Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:03.461Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 3 (Pre-Click): Leaves=1
[0-0] [Test FEAT-001] Clicking suggestion item...
[0-0] 2026-02-07T16:06:03.462Z INFO webdriver: COMMAND elementClick("4B592F5BE33D570800ED9D882FC849AD_element_52")
[0-0] 2026-02-07T16:06:03.466Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/element/4B592F5BE33D570800ED9D882FC849AD_element_52/click
[0-0] 2026-02-07T16:06:03.466Z INFO webdriver: DATA {}
[0-0] 2026-02-07T16:06:03.575Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:06:04.076Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:04.077Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:04.077Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>app.workspace.getLeavesOfType(\"todo-flow-triage-view\").length).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:04.089Z INFO webdriver: RESULT 1
[0-0] [Test FEAT-001] Probe 4 (Post-Click): Leaves=1
[0-0] 2026-02-07T16:06:04.090Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:04.090Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:04.092Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:04.119Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:06:04.119Z INFO webdriver: Retrying 1/3
[0-0] 2026-02-07T16:06:04.119Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:04.119Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:06:04.120Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:04.146Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:06:04.647Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:06:04.648Z INFO webdriver: Retrying 2/3
[0-0] 2026-02-07T16:06:04.648Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:04.649Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:04.669Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:06:05.669Z WARN webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:06:05.670Z INFO webdriver: Retrying 3/3
[0-0] 2026-02-07T16:06:05.670Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:05.671Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const triageView=app.workspace.getLeavesOfType(\"todo-flow-triage-view\")[0].view;return triageView.component.tasks.map(t=>t.title)}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:05.687Z DEBUG webdriver: request failed due to response error: javascript error
[0-0] 2026-02-07T16:06:05.687Z ERROR webdriver: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
[0-0]   (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
[0-0] 2026-02-07T16:06:05.723Z DEBUG @wdio/utils:shim: Finished to run "afterTest" hook in 0ms
[0-0] javascript error in "Mobile Triage Addition (FEAT-001).should allow adding tasks via a floating "+" button on mobile triage"
javascript error: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
    at async Context.<anonymous> (/home/ivan/obsidian_plugin_for_todo_flow/tests/e2e/journeys/mobile_triage_add.spec.ts:134:29)
[0-0] 2026-02-07T16:06:05.729Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-07T16:06:05.730Z INFO webdriver: [POST] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b/execute/sync
[0-0] 2026-02-07T16:06:05.730Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const adapter=app.vault.adapter;const todoFlowDir=\"todo-flow\";if(await adapter.exists(todoFlowDir)){const listing=await adapter.list(todoFlowDir);for(const file of listing.files){try{await adapter.remove(file)}catch(e){console.warn(`Failed to remove ${file}:`,e)}}}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-07T16:06:05.801Z INFO webdriver: RESULT null
[0-0] [WDIO] E2E test session complete
[0-0] 2026-02-07T16:06:05.810Z DEBUG @wdio/utils:shim: Finished to run "after" hook in 0ms
[0-0] 2026-02-07T16:06:05.811Z INFO webdriver: COMMAND deleteSession()
[0-0] 2026-02-07T16:06:05.817Z INFO webdriver: [DELETE] http://localhost:36287/session/f56b6526c817cd2fb446e56cb925eb7b
[0-0] 2026-02-07T16:06:06.010Z INFO webdriver: RESULT null
[0-0] 2026-02-07T16:06:06.010Z INFO webdriver: Kill driver process with PID 353941
[0-0] 2026-02-07T16:06:06.125Z DEBUG @wdio/utils:shim: Finished to run "afterSession" hook in 114ms
2026-02-07T16:06:06.292Z DEBUG @wdio/local-runner: Runner 0-0 finished with exit code 1
[0-0] FAILED in chrome(120.0.6099.283) - file:///tests/e2e/journeys/mobile_triage_add.spec.ts (2 retries)
2026-02-07T16:06:06.293Z INFO @wdio/cli:launcher: Run onWorkerEnd hook
2026-02-07T16:06:06.294Z DEBUG @wdio/cli:utils: Finished to run "onWorkerEnd" hook in 0ms

 "obsidian" Reporter:
------------------------------------------------------------------
Running: obsidian v1.11.7 (installer: v1.5.8, platform: linux)
Session ID: 7ce243685e95bfb8fb6b63fd3995b886

 tests/e2e/journeys/mobile_triage_add.spec.ts
Mobile Triage Addition (FEAT-001)
    should allow adding tasks via a floating "+" button on mobile triage

1 failing (13.4s)

1) Mobile Triage Addition (FEAT-001) should allow adding tasks via a floating "+" button on mobile triage
WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
javascript error: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
    at async Context.<anonymous> (/home/ivan/obsidian_plugin_for_todo_flow/tests/e2e/journeys/mobile_triage_add.spec.ts:134:29)
------------------------------------------------------------------
Running: obsidian v1.11.7 (installer: v1.5.8, platform: linux)
Session ID: 0b0a5d869b55bf8acd935d247f01da04

 tests/e2e/journeys/mobile_triage_add.spec.ts
Mobile Triage Addition (FEAT-001)
    should allow adding tasks via a floating "+" button on mobile triage

1 failing (12.3s)

1) Mobile Triage Addition (FEAT-001) should allow adding tasks via a floating "+" button on mobile triage
WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
javascript error: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
    at async Context.<anonymous> (/home/ivan/obsidian_plugin_for_todo_flow/tests/e2e/journeys/mobile_triage_add.spec.ts:134:29)
------------------------------------------------------------------
Running: obsidian v1.11.7 (installer: v1.5.8, platform: linux)
Session ID: 66188c22ef80dbdefed3607054888511

 tests/e2e/journeys/mobile_triage_add.spec.ts
Mobile Triage Addition (FEAT-001)
    should allow adding tasks via a floating "+" button on mobile triage

1 failing (12s)

1) Mobile Triage Addition (FEAT-001) should allow adding tasks via a floating "+" button on mobile triage
WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
javascript error: WebDriverError: javascript error: Cannot read properties of undefined (reading 'map')
  (Session info: chrome=120.0.6099.283) when running "execute/sync" with method "POST"
    at async Context.<anonymous> (/home/ivan/obsidian_plugin_for_todo_flow/tests/e2e/journeys/mobile_triage_add.spec.ts:134:29)


Spec Files:	 0 passed, 2 retries, 1 failed, 1 total (100% completed) in 00:01:12  

2026-02-07T16:06:06.299Z INFO @wdio/local-runner: Shutting down spawned worker
2026-02-07T16:06:06.553Z INFO @wdio/local-runner: Waiting for 0 to shut down gracefully
2026-02-07T16:06:06.555Z INFO @wdio/local-runner: shutting down
2026-02-07T16:06:06.556Z INFO @wdio/cli:launcher: Run onComplete hook
2026-02-07T16:06:06.557Z DEBUG @wdio/cli:utils: Finished to run "onComplete" hook in 0ms
