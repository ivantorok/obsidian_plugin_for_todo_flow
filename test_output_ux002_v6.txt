
> obsidian_plugin_for_todo_flow@1.2.19 e2e
> npm run e2e:setup && wdio run wdio.conf.mts --spec tests/e2e/UX-002_mobile_navigation.spec.ts


> obsidian_plugin_for_todo_flow@1.2.19 e2e:setup
> npx tsx tests/e2e/setup-vault.ts

Stopping existing Obsidian instances...
[E2E Setup] Initializing vault at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[E2E Setup] Existing plugins found: todo-flow
[E2E Setup] Community plugins config updated at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/community-plugins.json
[E2E Setup] Copied main.js to vault plugins.
[E2E Setup] Copied styles.css to vault plugins.
[E2E Setup] Copied manifest.json to vault plugins.
[E2E Setup] Creating vault config to trust plugins...
[E2E Setup] Vault config created at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/config.json
[E2E Setup] Creating vault app.json to disable safe mode...
[E2E Setup] Vault app.json created at: /home/ivan/obsidian_plugin_for_todo_flow/.test-vault/.obsidian/app.json
[E2E Setup] --- Vault initialization complete ---
2026-02-08T08:56:04.418Z DEBUG @wdio/utils:initializeServices: initialize service "obsidian" as NPM package
2026-02-08T08:56:04.880Z INFO @wdio/cli:launcher: Run onPrepare hook
2026-02-08T08:56:04.900Z DEBUG @wdio/cli:utils: Finished to run "onPrepare" hook in 19ms
2026-02-08T08:56:04.902Z WARN @wdio/config:ConfigParser: pattern tests/e2e/manual-open.spec.ts did not match any file

Execution of 1 workers started at 2026-02-08T08:56:04.905Z

2026-02-08T08:56:04.908Z WARN @wdio/config:ConfigParser: pattern tests/e2e/manual-open.spec.ts did not match any file
2026-02-08T08:56:04.912Z INFO @wdio/cli:launcher: Run onWorkerStart hook
2026-02-08T08:56:04.912Z DEBUG @wdio/cli:utils: Finished to run "onWorkerStart" hook in 0ms
2026-02-08T08:56:04.913Z INFO @wdio/xvfb: XvfbManager.init() called
2026-02-08T08:56:04.914Z INFO @wdio/xvfb: Xvfb not needed on current platform
2026-02-08T08:56:04.915Z INFO @wdio/local-runner: Start worker 0-0 with arg: run wdio.conf.mts --spec tests/e2e/UX-002_mobile_navigation.spec.ts
2026-02-08T08:56:04.923Z INFO @wdio/xvfb:ProcessFactory: xvfb-run not found, falling back to regular fork
2026-02-08T08:56:04.923Z INFO @wdio/xvfb:ProcessFactory: ProcessFactory: shouldRun=false, isAvailable=false
2026-02-08T08:56:04.923Z INFO @wdio/xvfb:ProcessFactory: Creating worker process with regular fork
2026-02-08T08:56:04.932Z DEBUG @wdio/local-runner: Send command run to worker with cid "0-0"
[0-0] 2026-02-08T08:56:06.702Z INFO @wdio/local-runner: Run worker command: run
[0-0] 2026-02-08T08:56:06.739Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-08T08:56:06.748Z DEBUG @wdio/utils:initializeServices: initialize service "obsidian" as NPM package
[0-0] 2026-02-08T08:56:07.233Z INFO wdio-obsidian-service: Opening vault /home/ivan/obsidian_plugin_for_todo_flow/.test-vault
[0-0] 2026-02-08T08:56:07.302Z DEBUG @wdio/utils:shim: Finished to run "beforeSession" hook in 69ms
[0-0] RUNNING in chrome(120.0.6099.283) - file:///tests/e2e/UX-002_mobile_navigation.spec.ts
[0-0] 2026-02-08T08:56:07.469Z DEBUG @wdio/runner: init remote session
[0-0] 2026-02-08T08:56:07.471Z INFO webdriver: Initiate new session using the WebDriver protocol
[0-0] 2026-02-08T08:56:07.748Z INFO chromedriver: Starting ChromeDriver 120.0.6099.283 (967a55bac315b0bcf08b09f7a9b86b318f951276-refs/heads/main@{#1232704}) on port 34563
[0-0] 2026-02-08T08:56:07.748Z INFO chromedriver: Only local connections are allowed.
[0-0] 2026-02-08T08:56:07.749Z INFO chromedriver: Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.
[0-0] 2026-02-08T08:56:07.749Z INFO chromedriver: ChromeDriver was started successfully.
[0-0] 2026-02-08T08:56:07.751Z INFO @wdio/utils: Started Chromedriver v120.0.6099.283 with params --port=34563 --binary=/home/ivan/obsidian_plugin_for_todo_flow/.obsidian-cache/electron-chromedriver/linux-x64/28.2.3/chromedriver --allowed-origins=* in 34ms on port 34563
[0-0] 2026-02-08T08:56:07.784Z INFO webdriver: [POST] http://localhost:34563/session
[0-0] 2026-02-08T08:56:08.129Z INFO chromedriver: 2026-02-08 08:56:08 Loading updated app package /tmp/obsidian-launcher-config-1Gn53e/obsidian-1.11.7.asar
[0-0] 2026-02-08T08:56:08.197Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-08T08:56:08.749Z INFO chromedriver: Ignored: Error: ENOENT: no such file or directory, open '/tmp/obsidian-launcher-config-1Gn53e/689a7339a1add239.json'
[0-0] 2026-02-08T08:56:09.055Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-08T08:56:09.056Z INFO webdriver: [GET] http://localhost:34563/session/cb6b0992377e6ccde6276ca68154ea8b/window
[0-0] 2026-02-08T08:56:09.066Z INFO webdriver: RESULT 620D07050DA6B4B540D69964705AEAAB
[0-0] [WDIO] Starting E2E test session
[0-0] 2026-02-08T08:56:09.072Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:09.073Z INFO webdriver: [POST] http://localhost:34563/session/cb6b0992377e6ccde6276ca68154ea8b/execute/sync
[0-0] 2026-02-08T08:56:09.074Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:09.933Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:09.942Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:09.943Z INFO webdriver: [POST] http://localhost:34563/session/cb6b0992377e6ccde6276ca68154ea8b/execute/sync
[0-0] 2026-02-08T08:56:09.946Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:10.007Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:10.013Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:10.015Z INFO webdriver: [POST] http://localhost:34563/session/cb6b0992377e6ccde6276ca68154ea8b/execute/sync
[0-0] 2026-02-08T08:56:10.016Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:10.071Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:10.076Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:10.079Z INFO webdriver: [POST] http://localhost:34563/session/cb6b0992377e6ccde6276ca68154ea8b/execute/sync
[0-0] 2026-02-08T08:56:10.080Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:10.335Z INFO webdriver: RESULT true
[0-0] 2026-02-08T08:56:10.339Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-08T08:56:10.343Z INFO webdriver: [POST] http://localhost:34563/session/cb6b0992377e6ccde6276ca68154ea8b/execute/sync
[0-0] 2026-02-08T08:56:10.343Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-08T08:56:10.375Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:10.375Z DEBUG @wdio/utils:shim: Finished to run "before" hook in 1306ms
[0-0] 2026-02-08T08:56:12.444Z INFO webdriver: COMMAND deleteSession(<object>)
[0-0] 2026-02-08T08:56:12.445Z INFO webdriver: [DELETE] http://localhost:34563/session/cb6b0992377e6ccde6276ca68154ea8b
[0-0] 2026-02-08T08:56:12.445Z INFO webdriver: DATA {"deleteSessionOpts":{"shutdownDriver":false}}
[0-0] 2026-02-08T08:56:12.534Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:12.544Z INFO webdriver: COMMAND deleteSession(<object>)
[0-0] 2026-02-08T08:56:12.545Z INFO webdriver: [DELETE] http://localhost:34563/session/cb6b0992377e6ccde6276ca68154ea8b
[0-0] 2026-02-08T08:56:12.545Z INFO webdriver: DATA {"deleteSessionOpts":{"shutdownDriver":false}}
[0-0] 2026-02-08T08:56:12.552Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:12.556Z INFO webdriver: [POST] http://localhost:34563/session
[0-0] 2026-02-08T08:56:12.885Z INFO chromedriver: 2026-02-08 08:56:12 Loading updated app package /tmp/obsidian-launcher-config-1Gn53e/obsidian-1.11.7.asar
[0-0] 2026-02-08T08:56:12.902Z INFO chromedriver: Updates disabled.
[0-0] 2026-02-08T08:56:13.665Z INFO webdriver: COMMAND getWindowHandle()
[0-0] 2026-02-08T08:56:13.665Z INFO webdriver: [GET] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/window
[0-0] 2026-02-08T08:56:13.670Z INFO webdriver: RESULT A99C17FBFD5BE00265DD07EB5D22C18C
[0-0] 2026-02-08T08:56:13.671Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:13.672Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:13.673Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:14.472Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:14.483Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:14.486Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:14.489Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:14.558Z INFO webdriver: RESULT false
[0-0] 2026-02-08T08:56:14.563Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:14.566Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:14.566Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (() => !!window.wdioObsidianService).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:14.615Z INFO webdriver: RESULT true
[0-0] 2026-02-08T08:56:14.617Z INFO webdriver: COMMAND executeScript("
[0-0]             const require = window.wdioObsidianService().require;
[0-0]             try {
[0-0]                 return await (
[0-0]                     async ({ app }) => {
[0-0]         await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));
[0-0]       }
[0-0]                 ).call(null, window.wdioObsidianService(), ...arguments);
[0-0]             } catch (e) {
[0-0]                 if ("code" in e && typeof e.code != "number") {
[0-0]                     delete e.code;
[0-0]                 }
[0-0]                 throw e;
[0-0]             }
[0-0]         ", <object>)
[0-0] 2026-02-08T08:56:14.618Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:14.618Z INFO webdriver: DATA {"script":"\n            const require = window.wdioObsidianService().require;\n            try {\n                return await (\n                    async ({ app }) => {\n        await new Promise((resolve2) => app.workspace.onLayoutReady(resolve2));\n      }\n                ).call(null, window.wdioObsidianService(), ...arguments);\n            } catch (e) {\n                if (\"code\" in e && typeof e.code != \"number\") {\n                    delete e.code;\n                }\n                throw e;\n            }\n        ","args":[]}
[0-0] 2026-02-08T08:56:14.768Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:14.770Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:14.771Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:14.771Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{document.body.classList.add(\"is-mobile\");document.body.classList.remove(\"is-desktop\");if(window.app){window.app.isMobile=true}window.dispatchEvent(new Event(\"resize\"))}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:14.781Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:14.784Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:14.785Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:14.785Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const plugin=app.plugins.plugins[\"todo-flow\"];if(plugin){plugin.settings.targetFolder=\"todo-flow\";plugin.settings.debug=true;if(plugin.logger)plugin.logger.setEnabled(true);await plugin.saveSettings()}window._logs=[]}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:14.821Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:14.822Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:14.822Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:14.822Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const{vault}=app;const existing=vault.getAbstractFileByPath(\"todo-flow\");if(existing)await vault.delete(existing,true);await vault.createFolder(\"todo-flow\");await vault.create(\"todo-flow/Parent.md\",\"# Parent Task\\n[[Child]]\\nflow_state: shortlist\");await vault.create(\"todo-flow/Child.md\",\"# Child Task\\nflow_state: shortlist\");console.log(\"[Test Setup] Files created\")}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:14.848Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:17.851Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:17.852Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:17.852Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const plugin=app.plugins.plugins[\"todo-flow\"];await plugin.activateStack(\"todo-flow\")}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:18.066Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:20.069Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:20.071Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:20.072Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (()=>{const leaf=app.workspace.getLeavesOfType(\"todo-flow-stack-view\")[0];if(leaf){app.workspace.setActiveLeaf(leaf,{focus:true});const container=document.querySelector(\".todo-flow-stack-container\");if(container)container.focus()}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:20.105Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:20.425Z DEBUG @wdio/utils:shim: Finished to run "beforeTest" hook in 3ms
[0-0] 2026-02-08T08:56:20.428Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:20.429Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:20.430Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const leaf=app.workspace.getLeavesOfType(\"todo-flow-stack-view\")[0];const view=leaf?leaf.view:null;const tasks=view?view.tasks||[]:[];const component=view?view.component:null;return{taskCount:tasks.length,taskDetails:tasks.map(t=>({title:t.title,id:t.id,hasChildren:!!(t.children&&t.children.length>0),childCount:t.children?.length||0})),focusedIndex:component?component.focusedIndex:\"N/A\",rootPath:view?view.rootPath:\"N/A\"}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:20.463Z INFO webdriver: RESULT {
[0-0]   focusedIndex: null,
[0-0]   rootPath: 'todo-flow',
[0-0]   taskCount: 2,
[0-0]   taskDetails: [
[0-0]     {
[0-0]       childCount: 1,
[0-0]       hasChildren: true,
[0-0]       id: 'todo-flow/Parent.md',
[0-0]       title: 'Parent Task'
[0-0]     },
[0-0]     {
[0-0]       childCount: 0,
[0-0]       hasChildren: false,
[0-0]       id: 'todo-flow/Child.md',
[0-0]       title: 'Child Task'
[0-0]     }
[0-0]   ]
[0-0] }
[0-0] [Test Debug] Diagnostics PRE-CLICK: {
[0-0]   "focusedIndex": null,
[0-0]   "rootPath": "todo-flow",
[0-0]   "taskCount": 2,
[0-0]   "taskDetails": [
[0-0]     {
[0-0]       "childCount": 1,
[0-0]       "hasChildren": true,
[0-0]       "id": "todo-flow/Parent.md",
[0-0]       "title": "Parent Task"
[0-0]     },
[0-0]     {
[0-0]       "childCount": 0,
[0-0]       "hasChildren": false,
[0-0]       "id": "todo-flow/Child.md",
[0-0]       "title": "Child Task"
[0-0]     }
[0-0]   ]
[0-0] }
[0-0] 2026-02-08T08:56:20.479Z INFO webdriver: COMMAND findElement("xpath", ".//*[contains(concat(" ",@class," "), " todo-flow-task-card ") and contains(., "Parent Task") and not(.//*[contains(concat(" ",@class," "), " todo-flow-task-card ")])]")
[0-0] 2026-02-08T08:56:20.480Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/element
[0-0] 2026-02-08T08:56:20.480Z INFO webdriver: DATA {"using":"xpath","value":".//*[contains(concat(\" \",@class,\" \"), \" todo-flow-task-card \") and contains(., \"Parent Task\") and not(.//*[contains(concat(\" \",@class,\" \"), \" todo-flow-task-card \")])]"}
[0-0] 2026-02-08T08:56:20.526Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '41B7E2022F7BC7BC609C3EA1BEBEC21E_element_41'
[0-0] }
[0-0] 2026-02-08T08:56:20.541Z INFO webdriver: COMMAND findElements("xpath", ".//*[contains(concat(" ",@class," "), " todo-flow-task-card ") and contains(., "Parent Task") and not(.//*[contains(concat(" ",@class," "), " todo-flow-task-card ")])]")
[0-0] 2026-02-08T08:56:20.542Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/elements
[0-0] 2026-02-08T08:56:20.542Z INFO webdriver: DATA {"using":"xpath","value":".//*[contains(concat(\" \",@class,\" \"), \" todo-flow-task-card \") and contains(., \"Parent Task\") and not(.//*[contains(concat(\" \",@class,\" \"), \" todo-flow-task-card \")])]"}
[0-0] 2026-02-08T08:56:20.557Z INFO webdriver: RESULT [
[0-0]   {
[0-0]     'element-6066-11e4-a52e-4f735466cecf': '41B7E2022F7BC7BC609C3EA1BEBEC21E_element_41'
[0-0]   }
[0-0] ]
[0-0] 2026-02-08T08:56:20.567Z INFO webdriver: COMMAND getElementTagName("41B7E2022F7BC7BC609C3EA1BEBEC21E_element_41")
[0-0] 2026-02-08T08:56:20.567Z INFO webdriver: [GET] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/element/41B7E2022F7BC7BC609C3EA1BEBEC21E_element_41/name
[0-0] 2026-02-08T08:56:20.574Z INFO webdriver: RESULT div
[0-0] [Test] Tapping Parent Task...
[0-0] 2026-02-08T08:56:20.575Z INFO webdriver: COMMAND elementClick("41B7E2022F7BC7BC609C3EA1BEBEC21E_element_41")
[0-0] 2026-02-08T08:56:20.575Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/element/41B7E2022F7BC7BC609C3EA1BEBEC21E_element_41/click
[0-0] 2026-02-08T08:56:20.576Z INFO webdriver: DATA {}
[0-0] 2026-02-08T08:56:20.631Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:23.134Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:23.135Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:23.136Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const leaf=app.workspace.getLeavesOfType(\"todo-flow-stack-view\")[0];const view=leaf?leaf.view:null;const tasks=view?view.tasks||[]:[];const component=view?view.component:null;return{taskTitles:tasks.map(t=>t.title),rootPath:view?view.rootPath:\"N/A\",canGoBack:component&&component.getCanGoBack?component.getCanGoBack():\"N/A\"}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:23.162Z INFO webdriver: RESULT {
[0-0]   canGoBack: true,
[0-0]   rootPath: 'todo-flow/Parent.md',
[0-0]   taskTitles: [ 'Child Task' ]
[0-0] }
[0-0] [Test Debug] Diagnostics after first tap: {
[0-0]   "canGoBack": true,
[0-0]   "rootPath": "todo-flow/Parent.md",
[0-0]   "taskTitles": [
[0-0]     "Child Task"
[0-0]   ]
[0-0] }
[0-0] 2026-02-08T08:56:23.166Z INFO webdriver: COMMAND findElement("css selector", ".back-nav-btn")
[0-0] 2026-02-08T08:56:23.167Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/element
[0-0] 2026-02-08T08:56:23.167Z INFO webdriver: DATA {"using":"css selector","value":".back-nav-btn"}
[0-0] 2026-02-08T08:56:23.181Z INFO webdriver: RESULT {
[0-0]   'element-6066-11e4-a52e-4f735466cecf': '41B7E2022F7BC7BC609C3EA1BEBEC21E_element_45'
[0-0] }
[0-0] 2026-02-08T08:56:23.187Z INFO webdriver: COMMAND findElements("css selector", ".back-nav-btn")
[0-0] 2026-02-08T08:56:23.187Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/elements
[0-0] 2026-02-08T08:56:23.187Z INFO webdriver: DATA {"using":"css selector","value":".back-nav-btn"}
[0-0] 2026-02-08T08:56:23.202Z INFO webdriver: RESULT [
[0-0]   {
[0-0]     'element-6066-11e4-a52e-4f735466cecf': '41B7E2022F7BC7BC609C3EA1BEBEC21E_element_45'
[0-0]   }
[0-0] ]
[0-0] 2026-02-08T08:56:23.205Z INFO webdriver: COMMAND getElementTagName("41B7E2022F7BC7BC609C3EA1BEBEC21E_element_45")
[0-0] 2026-02-08T08:56:23.206Z INFO webdriver: [GET] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/element/41B7E2022F7BC7BC609C3EA1BEBEC21E_element_45/name
[0-0] 2026-02-08T08:56:23.215Z INFO webdriver: RESULT button
[0-0] [Test] Clicking back button...
[0-0] 2026-02-08T08:56:23.215Z INFO webdriver: COMMAND elementClick("41B7E2022F7BC7BC609C3EA1BEBEC21E_element_45")
[0-0] 2026-02-08T08:56:23.216Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/element/41B7E2022F7BC7BC609C3EA1BEBEC21E_element_45/click
[0-0] 2026-02-08T08:56:23.216Z INFO webdriver: DATA {}
[0-0] 2026-02-08T08:56:23.260Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:24.761Z INFO webdriver: COMMAND executeScript(<fn>, <object>)
[0-0] 2026-02-08T08:56:24.763Z INFO webdriver: [POST] http://localhost:34563/session/d516b87b95616f43264a048030e915ef/execute/sync
[0-0] 2026-02-08T08:56:24.764Z INFO webdriver: DATA {"script":"\n            function webdriverioPolyfill() {\n  var __defProp = Object.defineProperty;\n  var __name = function(target, _value) {\n    return __defProp(target, \"name\", { value: _value, configurable: true });\n  };\n  var __globalThis = typeof globalThis === \"object\" && globalThis || typeof window === \"object\" && window;\n  __globalThis.__name = __name;\n}\n            webdriverioPolyfill();\n            return (async()=>{const leaf=app.workspace.getLeavesOfType(\"todo-flow-stack-view\")[0];const view=leaf?leaf.view:null;const tasks=view?view.tasks||[]:[];return{taskCount:tasks.length,titles:tasks.map(t=>t.title),rootPath:view?view.rootPath:\"N/A\"}}).apply(null, arguments)\n        ","args":[]}
[0-0] 2026-02-08T08:56:24.789Z INFO webdriver: RESULT {
[0-0]   rootPath: 'todo-flow',
[0-0]   taskCount: 2,
[0-0]   titles: [ 'Parent Task', 'Child Task' ]
[0-0] }
[0-0] [Test Debug] Final Diagnostics: {
[0-0]   "rootPath": "todo-flow",
[0-0]   "taskCount": 2,
[0-0]   "titles": [
[0-0]     "Parent Task",
[0-0]     "Child Task"
[0-0]   ]
[0-0] }
[0-0] 2026-02-08T08:56:24.795Z DEBUG @wdio/utils:shim: Finished to run "afterTest" hook in 0ms
[0-0] [WDIO] E2E test session complete
[0-0] 2026-02-08T08:56:24.804Z DEBUG @wdio/utils:shim: Finished to run "after" hook in 0ms
[0-0] 2026-02-08T08:56:24.805Z INFO webdriver: COMMAND deleteSession()
[0-0] 2026-02-08T08:56:24.806Z INFO webdriver: [DELETE] http://localhost:34563/session/d516b87b95616f43264a048030e915ef
[0-0] 2026-02-08T08:56:24.909Z INFO webdriver: RESULT null
[0-0] 2026-02-08T08:56:24.909Z INFO webdriver: Kill driver process with PID 36653
[0-0] 2026-02-08T08:56:24.935Z DEBUG @wdio/utils:shim: Finished to run "afterSession" hook in 25ms
2026-02-08T08:56:25.063Z DEBUG @wdio/local-runner: Runner 0-0 finished with exit code 0
[0-0] PASSED in chrome(120.0.6099.283) - file:///tests/e2e/UX-002_mobile_navigation.spec.ts
2026-02-08T08:56:25.064Z INFO @wdio/cli:launcher: Run onWorkerEnd hook
2026-02-08T08:56:25.066Z DEBUG @wdio/cli:utils: Finished to run "onWorkerEnd" hook in 0ms

 "obsidian" Reporter:
------------------------------------------------------------------
Running: obsidian v1.11.7 (installer: v1.5.8, platform: linux)
Session ID: cb6b0992377e6ccde6276ca68154ea8b

» tests/e2e/UX-002_mobile_navigation.spec.ts
UX-002: Mobile Navigation Loop
   ✓ should drill down and navigate back via UI button

1 passing (14.5s)


Spec Files:	 1 passed, 1 total (100% completed) in 00:00:20  

2026-02-08T08:56:25.068Z INFO @wdio/local-runner: Shutting down spawned worker
2026-02-08T08:56:25.319Z INFO @wdio/local-runner: Waiting for 0 to shut down gracefully
2026-02-08T08:56:25.321Z INFO @wdio/local-runner: shutting down
2026-02-08T08:56:25.322Z INFO @wdio/cli:launcher: Run onComplete hook
2026-02-08T08:56:25.323Z DEBUG @wdio/cli:utils: Finished to run "onComplete" hook in 0ms
